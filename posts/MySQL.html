<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>MySql | byxl8112</title><meta name="keywords" content="Java笔记"><meta name="author" content="byxl8112"><meta name="copyright" content="byxl8112"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Mysql学习">
<meta property="og:type" content="article">
<meta property="og:title" content="MySql">
<meta property="og:url" content="https://byxl8112.github.io/posts/MySQL.html">
<meta property="og:site_name" content="byxl8112">
<meta property="og:description" content="Mysql学习">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://npm.elemecdn.com/xianqi-hexo/imgg/11.webp">
<meta property="article:published_time" content="2023-04-14T13:35:54.000Z">
<meta property="article:modified_time" content="2023-07-04T02:01:36.514Z">
<meta property="article:author" content="byxl8112">
<meta property="article:tag" content="Java笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://npm.elemecdn.com/xianqi-hexo/imgg/11.webp"><link rel="shortcut icon" href="https://typora8112.oss-cn-beijing.aliyuncs.com/zzzw_8112/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221130105527.jpg"><link rel="canonical" href="https://byxl8112.github.io/posts/MySQL"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"一年之内的产物","messageNext":"技术可能存在过期"},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySql',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-04 10:01:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link defer rel="stylesheet" href="/css/customm.css" ><link defer rel="stylesheet" href="https://npm.elemecdn.com/xianqi-hexo/css/icon.css"><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"><link defer rel="stylesheet" href="https://npm.elemecdn.com/xianqi-hexo/css/background.css"><link defer rel="stylesheet" href="https://npm.elemecdn.com/xianqi-hexo/css/index_ee.css"><link defer rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/flink.min.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/zzzw_8112/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221130105527.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-book"></i><span> 说说</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fas fa-image"></i><span> 相册</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://npm.elemecdn.com/xianqi-hexo/imgg/11.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">byxl8112</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-book"></i><span> 说说</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fas fa-image"></i><span> 相册</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MySql</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-04-14T13:35:54.000Z" title="发表于 2023-04-14 21:35:54">2023-04-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-04T02:01:36.514Z" title="更新于 2023-07-04 10:01:36">2023-07-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/Sql/">Sql</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MySql"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="数据库常用命令"><a href="#数据库常用命令" class="headerlink" title="数据库常用命令"></a>数据库常用命令</h1><p>注意：命令不区分大小写</p>
<h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create database thefirstdemo(数据库名称);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230124232040116.png" style="zoom:50%;" />

<h2 id="展示数据库所有名称"><a href="#展示数据库所有名称" class="headerlink" title="展示数据库所有名称"></a>展示数据库所有名称</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">show databases;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230124231943085.png" alt="image-20230124231943085" style="zoom:50%;" />

<h2 id="使用指定数据库"><a href="#使用指定数据库" class="headerlink" title="使用指定数据库"></a>使用指定数据库</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">use thefirstdemo(数据库名称);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230124232321346.png" alt="image-20230124232321346" style="zoom:50%;" />

<h2 id="退出数据库"><a href="#退出数据库" class="headerlink" title="退出数据库"></a>退出数据库</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">exit; &#x2F;&#x2F;推出整个数据库<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230124232431387.png" alt="image-20230124232431387" style="zoom:50%;" />

<h2 id="表的理解"><a href="#表的理解" class="headerlink" title="表的理解"></a>表的理解</h2><p>展示指定数据库中的表，显示出表名</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">use sys(数据库的名称);
show tables;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230124233544514.png" alt="image-20230124233544514" style="zoom:50%;" />

<p>数据库当中是以表格的形式表示数据的<br>        因为表比较直观</p>
<p>姓名     性别     年龄  （列：字段）<br>        ————————————————<br>        张三	男			20		——&gt;行（记录）<br>        李四	女			21		——&gt;行（记录）</p>
<p>任何一张表都有行和列：<br>        行(row) ：被称为数据&#x2F;记录<br>        列(colmn) ：被称为字段：姓名字段、年龄字段等</p>
<h1 id="SQL分类"><a href="#SQL分类" class="headerlink" title="SQL分类"></a>SQL分类</h1><h2 id="DQL"><a href="#DQL" class="headerlink" title="DQL"></a>DQL</h2><p>数据查询语言（凡是带有select关键字的都是查询语句）</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">select<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h2><p>数据操作语言（凡是对表当中的数据进行 增删改<code>insert delete update</code> 的都是DML），这个主要是操作表中的数据data</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert : 增
delete : 删
update : 改<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h2><p>数据定义语言（凡是带有 <code>create</code> 、 <code>drop</code> 、<code>alter</code> 的都是DDL）<br>        DDL主要操作的是表的结构。不是表中的数据</p>
<p>这个增删改和DML不同，这个主要是对表结构进行操作。</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create : 新建，等同于增
drop : 删除
alter : 修改<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="TTL"><a href="#TTL" class="headerlink" title="TTL"></a>TTL</h2><p>事务控制语言：</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">包括:
事务提交 : commit;
事务回滚 : rollback;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="DCL"><a href="#DCL" class="headerlink" title="DCL"></a>DCL</h2><p>是数据控制语言：</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">例如:
授权 : grant;
撤销权限 : revoke....<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h1 id="DQL-1"><a href="#DQL-1" class="headerlink" title="DQL"></a>DQL</h1><h2 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h2><h3 id="表数据操作"><a href="#表数据操作" class="headerlink" title="表数据操作"></a>表数据操作</h3><p><code>mysql&gt; crete database bjpowernode;</code> : 创建bjpowernode数据库</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125112025944.png" alt="image-20230125112025944" style="zoom:50%;" />

<p><code>mysql&gt; use bjpowernode;</code> : 使用这个数据库</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125112129708.png" alt="image-20230125112129708" style="zoom:50%;" />

<p><code>mysql&gt; source D:\MySQL\MySQL-data\document\bjpowernode.sql  </code> : &#x2F;&#x2F;定位到bjpowernode文件夹中的bjpowernode文件,不过这个文件在D盘下</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125112209729.png" alt="image-20230125112209729" style="zoom:50%;" />

<p><code>show tables</code> :  &#x2F;&#x2F;展示这个bjpowernode文件下的表</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125112241664.png" alt="image-20230125112241664" style="zoom:50%;" />

<p><code>mysql&gt; select * from emp;</code> : 查看emp表中的所有数据， *表示这个emp表中的所有，emp是一个表</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125112400176.png" alt="image-20230125112400176" style="zoom:50%;" />

<p>同理，分别查看dept表和salgrade表中的所有数据</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125112431566.png" alt="image-20230125112431566" style="zoom:50%;" />

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125112446455.png" alt="image-20230125112446455" style="zoom:50%;" />

<h3 id="表结构操作"><a href="#表结构操作" class="headerlink" title="表结构操作"></a>表结构操作</h3><p>不看表中的数据，只看表的结构，有一个命令： <code>desc 表名</code> </p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125164841875.png" alt="image-20230125164841875" style="zoom: 67%;" />

<p>查看当前使用的是哪个数据库，用 <code>select database();</code> 命令</p>
<h2 id="简单查询"><a href="#简单查询" class="headerlink" title="简单查询"></a>简单查询</h2><h3 id="查询一个字段："><a href="#查询一个字段：" class="headerlink" title="查询一个字段："></a>查询一个字段：</h3><p><code>select 字段名 from 表名;</code> </p>
<p>其中要注意：select 和 from 都是关键字，字段名和表明都是标识符。</p>
<p>强调：<br>                对于SQL语句来说，是通用的；所有的SQL语句以 “ ，” 结尾；另外SQL语句不区分大小写，都行</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;查询部门名字，先查询部门有什么，从中找到名字的表名
desc dept;
&#x2F;&#x2F;查询部门名字
select DNAME from dept;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125171120046.png" alt="image-20230125171120046" style="zoom:50%;" />

<h3 id="查询两个字段，或者多个字段，"><a href="#查询两个字段，或者多个字段，" class="headerlink" title="查询两个字段，或者多个字段，"></a>查询两个字段，或者多个字段，</h3><p>使用逗号隔开“，” 即<code>select deptno,dname from dept;</code> </p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125171412990.png" alt="image-20230125171412990" style="zoom: 67%;" />

<h3 id="查询所有字段"><a href="#查询所有字段" class="headerlink" title="查询所有字段"></a>查询所有字段</h3><ul>
<li><p>第一种方式：可以把每个字段都写上</p>
<p><code>select a,b,c,d,e,f....(字段名) from tablename;</code> </p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125171832376.png" alt="image-20230125171832376" style="zoom: 67%;" />
</li>
<li><p>第二种方式：可以使用 *</p>
<p><code>select * from dept;</code></p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125171936986.png" alt="image-20230125171936986" style="zoom:50%;" />

<p>但是这种方式，效率低，可读性差，在实际开发中不建议使用方式二，建议使用方式一，可读性要好一点</p>
</li>
</ul>
<h3 id="给查询的列起别名"><a href="#给查询的列起别名" class="headerlink" title="给查询的列起别名"></a>给查询的列起别名</h3><p><code>select 现在名 as 别名 from 表名 ;</code> </p>
<p>&#x2F;&#x2F;将dename 起别名为deptname</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125172848851.png" alt="image-20230125172848851" style="zoom:50%;" />

<p>注意：只是将显示的查询结果列名显示为 deptname，原表列名还是叫：dname，<br>        记住：select 语句是永远都不会进行修改操作的（只负责查询）。</p>
<p>可以使用as关键字起别名，也可以省略as关键字，别名里有空格的话需要用单引号括起来<code>select deptno,dname &#39;dept name&#39; from dept;</code> 表示还是deptname,中间没有空格，mysql数据库中可以使用双引号，但oracle数据库中不能</p>
<ul>
<li><p>字段可以使用数学表达式</p>
<p><code>select ename,sal*12 from emp;</code> </p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125183037314.png" alt="image-20230125183037314" style="zoom:50%;" /></li>
</ul>
<p>这样就运用到了别名的作用了</p>
<p><code>select ename,sal*12 as year_sal from emp;</code> </p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125183158126.png" alt="image-20230125183158126" style="zoom:50%;" />

<p>也可以用中文名，但需要用单引号括起来</p>
<p><code>select ename,sal*12 as &#39;年工资&#39; from emp;</code> </p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125183323471.png" alt="image-20230125183323471" style="zoom:50%;" />

<h2 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h2><p>条件查询需要用到 where语句，where 必须放到 from 语句表的后面，支持如下运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>等于</td>
</tr>
<tr>
<td>&lt;&gt; 或  !&#x3D;</td>
<td>不等于</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>小于等于</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>大于等于</td>
</tr>
<tr>
<td>between … and …</td>
<td>两个值之间，<font color='red'>等同于 &gt;&#x3D; and &lt;&#x3D;</font></td>
</tr>
<tr>
<td>is null</td>
<td>为 null （is not null 不为空）</td>
</tr>
<tr>
<td>and</td>
<td>并且</td>
</tr>
<tr>
<td>or</td>
<td>或者</td>
</tr>
<tr>
<td>in</td>
<td>包含，相当于多个 or（not in 不在这个范围中）</td>
</tr>
<tr>
<td>not</td>
<td>not 可以取非，主要用在 is 或 in 中</td>
</tr>
<tr>
<td>like</td>
<td>模糊查询，支持 % 或下划线匹配<br />% 匹配任意个字符<br />下划线，一个下划线只匹配一个字符</td>
</tr>
</tbody></table>
<ul>
<li>条件查询语法格式：</li>
</ul>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	字段1，字段2，字段3...
from
	表名
where
	条件;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>查询SMITH的编号和薪资</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,sal from emp where ename &#x3D; &#39;SMITH&#39;; &#x2F;&#x2F;字符串使用单引号<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125185145803.png" alt="image-20230125185145803" style="zoom: 67%;" />
</li>
<li><p>&#x3D; 等于</p>
<p>查询薪资等于800的员工姓名和编号</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,ename from emp where sal &#x3D; 800;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125185648067.png" alt="image-20230125185648067" style="zoom: 67%;" />
</li>
<li><p>&lt;&gt; 或 !&#x3D;    不等于</p>
<p>查询薪资不等于800的员工姓名和编号</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,ename from emp where sal !&#x3D; 800;
select empno,ename from emp where sal &lt;&gt; 800;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125185902633.png" alt="image-20230125185902633" style="zoom: 67%;" /></li>
</ul>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125185936399.png" alt="image-20230125185936399" style="zoom:67%;" />

<ul>
<li><p>&lt;   小于, &lt;&#x3D;  小于等于</p>
<p>查询薪资小于2000的员工姓名、编号和薪资</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,ename,sal from emp where sal &lt; 2000;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125190225761.png" alt="image-20230125190225761" style="zoom:67%;" />
</li>
<li><p>大于，&gt;  ;  大于等于，&gt;&#x3D; </p>
<p>查询薪资大于等于3000的员工姓名、编号和薪资</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,ename,sal from emp where sal &gt;&#x3D;3000;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125190501837.png" alt="image-20230125190501837" style="zoom: 67%;" />
</li>
<li><p>between …  and …  两个值之间，等同于 &gt;&#x3D; and &lt;&#x3D;</p>
<p>查询薪资在2450 和3000之间的员工信息，包括2450和3000</p>
<ul>
<li><p>第一种方式：&gt;&#x3D; and &lt;&#x3D;    :（and是并且的意思）</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,ename,sal from emp where sal &lt;&#x3D; 2450 and sal &gt;&#x3D; 3000;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125190929288.png" alt="image-20230125190929288" style="zoom: 67%;" />
</li>
<li><p>第二种方式：between … and ….</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,ename,sal from emp where sal between 2450 and 3000;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125191102560.png" alt="image-20230125191102560" style="zoom: 67%;" />

<p>注意：使用 between and 的时候，必须遵循左小右大；between and 是闭区间，包括两端的值</p>
</li>
</ul>
</li>
<li><p>null  为 null  （is not null 不为空）</p>
<p>查询哪些员工的津贴&#x2F;补助为null</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,ename,sal,comm from emp where comm is null;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>注意：在数据库中null不能使用等号进行衡量。需要使用 is null ，因为数据库中的null表示什么也没有，它不是一个值，所以不能使用等号衡量。</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125191650090.png" alt="image-20230125191650090" style="zoom: 67%;" />

<p>查询哪些员工的津贴&#x2F;补助不为null</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,ename,sal,comm from emp where comm is not null;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125191816220.png" alt="image-20230125191816220" style="zoom: 67%;" />
</li>
<li><p>and  并且</p>
<p>查询工作岗位是MANAGER并且工资大于2500的员工信息</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	empno,ename,job,sal
from
	emp
where
	job &#x3D; &#39;MANAGER&#39; and sal &gt; 2500;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125192606163.png" alt="image-20230125192606163" style="zoom:67%;" />
</li>
<li><p>or  或者</p>
<p>查询工作岗位是MANAGER 和 SALESMAN 的员工</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	empno,ename,job
from 
	emp
where
	job &#x3D; &#39;MANAGER&#39; or job &#x3D; &#39;SALESMAN&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125192926587.png" alt="image-20230125192926587" style="zoom:67%;" />
</li>
<li><p>and 和 or 同时出现，如果没有小括号的话优先级and比or要高，and先执行，然后才是or，如果有小括号则小括号里面的先执行。</p>
<p>查询工资大于2500，并且部门编号为10 或 20 的员工</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	*
from
	emp
where
	sal &gt; 2500 and (deptno &#x3D; 10 or deptno &#x3D; 20);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125194425292.png" alt="image-20230125194425292" style="zoom: 67%;" />
</li>
<li><p>in  包含，相当于多个 or （not in 不在这个范围中）</p>
<p>查询工作岗位是MANAGER 和 SALESMAN 的员工</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select empno,ename,job from emp where job &#x3D; &#39;MANAGER&#39; or job &#x3D; &#39;SALESMAN&#39;;
&#x2F;&#x2F;或者
select empno,ename,job from emp where job in(&#39;MANAGER&#39;, &#39;SALESMAN&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125195328424.png" alt="image-20230125195328424" style="zoom:67%;" />

<p>查询薪资是800 和 5000 的员工信息</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename,sal from emp where sal &#x3D; 800 or sal &#x3D; 5000;
&#x2F;&#x2F;或者
select ename,sal from emp where sal in(800, 5000);&#x2F;&#x2F;这个不是800到5000区间都找到，而是找800或5000的员工<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125195603899.png" alt="image-20230125195603899" style="zoom: 67%;" />

<p>注意：in括号中不是一个区间，in后面跟的是具体的值。</p>
<p>not in ：除了括号中这几个值外的其他值，也可以用在is 中，即 is not </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename,sal from emp where sal not in(800,5000);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125195851560.png" alt="image-20230125195851560" style="zoom: 67%;" />
</li>
<li><p>like：称为模糊查询，支持 % 或 下划线匹配<br>%匹配任意多个字符，下划线：任意一个字符（%是一个特殊的符号，__也是一个特殊符号）</p>
</li>
</ul>
<p>找出名字中含有 o 的</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename from emp where ename like &#39;%o%&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125201429891.png" alt="image-20230125201429891" style="zoom:67%;" />

<p>找出名字首字母是A的姓名</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename from emp where ename like &#39;A%&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125212208257.png" alt="image-20230125212208257" style="zoom: 50%;" />

<p>找出名字尾字母为S的姓名</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename from emp where ename like &#39;%S&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125212347978.png" alt="image-20230125212347978" style="zoom:50%;" />

<p>找出名字第二个字母为L的姓名</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename from emp where enmae like &#39;_L%&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125212758107.png" alt="image-20230125212758107" style="zoom:50%;" />

<p>找出名字中含有下划线的</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename from emp where ename like &#39;%&#x2F;_%&#39;; &#x2F;&#x2F;因为下划线是一个特殊符号，所以需要用转义字符<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="排序order-by"><a href="#排序order-by" class="headerlink" title="排序order by"></a>排序order by</h2><ul>
<li>默认排序（从小到大排序）</li>
</ul>
<p>查询所有员工薪资，排序</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 
	ename,sal
from
	emp
order by
	sal;  &#x2F;&#x2F;默认是升序！！！<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125204418436.png" alt="image-20230125204418436" style="zoom: 67%;" />

<ul>
<li>指定降序（从大到小）排序</li>
</ul>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	ename,sal
from
	emp
order by
	sal desc; &#x2F;&#x2F;指定降序排序<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125204600716.png" alt="image-20230125204600716" style="zoom:67%;" />

<ul>
<li><p>指定升序（从小到大）排序</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	ename,sal
from
	emp
order by
	sal asc; &#x2F;&#x2F;指定升序排序<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125204753269.png" alt="image-20230125204753269" style="zoom:67%;" />
</li>
<li><p>先按照一个值的指定顺序排，如果这个值有重复则按照另一个值排序</p>
<p>查询员工名字和薪资，要求按照薪资升序，如果薪资一样的话，再按照名字升序排列</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	ename,sal
from
	emp
order by
	sal asc, ename asc; &#x2F;&#x2F;sal相同的话再按ename排序<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125205330096.png" alt="image-20230125205330096" style="zoom: 67%;" /></li>
</ul>
<p>综合练习：</p>
<p>找出工资在 1250 到 3000 之间的员工信息，要求按照薪资降序排列</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	ename,sal
from
	emp
where
	sal between 1250 and 3000
order by
	sal desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125210223210.png" alt="image-20230125210223210" style="zoom:67%;" />

<p>关键字顺序不能变<br>        select….from…..where……order by</p>
<p>以上执行顺序为：<br>        第一步：from   第二步：where   第三步 ：select    第四步：order by（排序总是在最后执行！）</p>
<h2 id="数据处理函数"><a href="#数据处理函数" class="headerlink" title="数据处理函数"></a>数据处理函数</h2> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125210755175.png" alt="image-20230125210755175" style="zoom:50%;" />

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125210809279.png" alt="image-20230125210809279" style="zoom:50%;" />

<p>数据处理函数又被称为单行处理函数</p>
<p>单行处理函数的特点：一个输入对应一个输出。</p>
<p>和单行处理函数相对的是：多行处理函数。（多行处理函数特点：多个输入，对应1个输出）</p>
<p>单行处理函数常见</p>
<h3 id="lower-转换为小写"><a href="#lower-转换为小写" class="headerlink" title="lower   转换为小写"></a>lower   转换为小写</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select lower(ename) from emp; &#x2F;&#x2F;可以起别名 select lower(ename) as ename from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125211729192.png" alt="image-20230125211729192" style="zoom:67%;" />

<h3 id="upper-转换为大写"><a href="#upper-转换为大写" class="headerlink" title="upper   转换为大写"></a>upper   转换为大写</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select upper(ename) from emp; &#x2F;&#x2F;可以起别名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>substr 取子串（substr（被截取的字符串，起始下标，截取的长度））</p>
<p>注意：起始下标从1开始，没有0</p>
<p>找出员工名字第一个字母是A的员工信息</p>
<ul>
<li><p>方式一：模糊查询</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename from emp where ename like &#39;A%&#39;; &#x2F;&#x2F;用模糊查询<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>方式二：substr取子串</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename from emp where substr(ename, 1, 1) &#x3D; &#39;A&#39;; <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>concat 函数进行字符串的拼接</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select concat(empno, ename) from emp; &#x2F;&#x2F;可取别名（重命名）<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125214506512.png" alt="image-20230125214506512" style="zoom:67%;" />

<h3 id="length-：-取长度"><a href="#length-：-取长度" class="headerlink" title="length ： 取长度"></a>length ： 取长度</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select length(ename) as enamelength from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125214659101.png" alt="image-20230125214659101" style="zoom:67%;" /></li>
</ul>
<h3 id="trim-去空格"><a href="#trim-去空格" class="headerlink" title="trim  : 去空格"></a>trim  : 去空格</h3><p>查询KING这个名字，但带了空格</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from emp where ename &#x3D; &quot; KING&quot;; &#x2F;&#x2F;注意有空格<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125215808288.png" alt="image-20230125215808288" style="zoom: 67%;" />

<h3 id="str-to-data-字符串转换成日期"><a href="#str-to-data-字符串转换成日期" class="headerlink" title="str_to_data : 字符串转换成日期"></a>str_to_data : 字符串转换成日期</h3><h3 id="date-format-格式化日期"><a href="#date-format-格式化日期" class="headerlink" title="date_format  : 格式化日期"></a>date_format  : 格式化日期</h3><h3 id="format-设置千分位"><a href="#format-设置千分位" class="headerlink" title="format  : 设置千分位"></a>format  : 设置千分位</h3><h3 id="round函数-：四舍五入"><a href="#round函数-：四舍五入" class="headerlink" title="round函数 ：四舍五入"></a>round函数 ：四舍五入</h3><p>round(数值， 四舍五入保留小数值（-1表示十位，-2表示百位…）)</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select round(1234.567, 0) from emp;  &#x2F;&#x2F;保留到个位<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125231540008.png" alt="image-20230125231540008" style="zoom: 67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select round(1234.567, 1) from emp; &#x2F;&#x2F;保留小数一位<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125233521530.png" alt="image-20230125233521530" style="zoom:67%;" />

<h3 id="rand-生成随机数，小于1"><a href="#rand-生成随机数，小于1" class="headerlink" title="rand( )  : 生成随机数，小于1"></a>rand( )  : 生成随机数，小于1</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select rand() from emp;  &#x2F;&#x2F;emp中有14行<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125232757359.png" alt="image-20230125232757359" style="zoom: 67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select round(rand() * 100, 0) from emp;  &#x2F;&#x2F;两位数之内，四舍五入保留到个位数，100以内的随机数<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230125232947692.png" alt="image-20230125232947692" style="zoom: 67%;" />

<h3 id="ifnull-将-null-转换成一个具体值"><a href="#ifnull-将-null-转换成一个具体值" class="headerlink" title="ifnull: 将 null 转换成一个具体值"></a>ifnull: 将 null 转换成一个具体值</h3><p>​			空处理函数，专门处理空的<br>​			在所有数据库当中，只要有NULL参与的数学运算，最终结果就是NULL</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename, sal + comm as salcomm from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126102232627.png" alt="image-20230126102232627" style="zoom:67%;" />

<p>注意：只要参与运算，最终结果一定是NULL，为了避免这个现象，需要使用 ifnull 函数<br>            ifnull( 数据，被当作哪个值)</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;补助为null的时候，将补助当作0
select ename, (sal + ifnull(comm, 0)) * 12 from emp; &#x2F;&#x2F;如果comm为空的话，当作0开看待<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126102824184.png" alt="image-20230126102824184" style="zoom: 67%;" />

<h3 id="case-…-when-…-then-…when-…-then-…-else-…end"><a href="#case-…-when-…-then-…when-…-then-…-else-…end" class="headerlink" title="case … when … then …when … then … else …end"></a>case … when … then …when … then … else …end</h3><p>当员工的工作岗位是 MANAGER 的时候，工资上调10%，当工作岗位是 SALESMAN 的时候，工资上调 50%，其他正常<br>（注意：不修改数据库，只是将查询结果显示为工资上调）</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	ename,
	job,
	sal as oldsal,
	(case job when &#39;MANAGER&#39; then sal * 1.1 when &#39;SALESMAN&#39; then sal*1.5 else sal end) as newsal
from
	emp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126104347380.png" alt="image-20230126104347380" style="zoom:67%;" />



<h2 id="分组函数"><a href="#分组函数" class="headerlink" title="分组函数"></a>分组函数</h2><p>分组函数，即多行处理函数：特点，输入多行，最终输出一行</p>
<p>注意：如果没有对数据分组，整张表默认为一组</p>
<h3 id="count-：-计数"><a href="#count-：-计数" class="headerlink" title="count ： 计数"></a>count ： 计数</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;计算员工数量
select count(ename) from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126105450661.png" alt="image-20230126105450661" style="zoom:50%;" />

<h3 id="sum-：-求和"><a href="#sum-：-求和" class="headerlink" title="sum  ： 求和"></a>sum  ： 求和</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;计算工资和
select sum(sal) from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126105504653.png" alt="image-20230126105504653" style="zoom:50%;" />

<h3 id="avg-：-平均值"><a href="#avg-：-平均值" class="headerlink" title="avg   ： 平均值"></a>avg   ： 平均值</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;计算工资平均值
select avg(sal) from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126105518843.png" alt="image-20230126105518843" style="zoom:50%;" />

<h3 id="max-：-最大值"><a href="#max-：-最大值" class="headerlink" title="max  ： 最大值"></a>max  ： 最大值</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;找出最高工资
select max(sal) from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126105533127.png" alt="image-20230126105533127" style="zoom:50%;" />

<h3 id="min-：-最小值"><a href="#min-：-最小值" class="headerlink" title="min  ： 最小值"></a>min  ： 最小值</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;找出最低工资
select min(sal) from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126105542204.png" alt="image-20230126105542204" style="zoom:50%;" />

<ul>
<li>注意：分组函数不会受NULL的影响，分组函数自动忽略NULL，不需要对NULL进行处理</li>
</ul>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select count(comm) from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126110422356.png" alt="image-20230126110422356" style="zoom: 67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select avg(comm) from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126110809298.png" alt="image-20230126110809298" style="zoom: 67%;" />

<p>如果要想求出包括NULL在内的总数，可以用 ifnull(comm, 0) 将comm中的NULL值转换为具体数值</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select count(ifnull(comm, 0)) from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126110626837.png" alt="image-20230126110626837" style="zoom:67%;" /> 

<h3 id="count-和-count-具体字段-的区别"><a href="#count-和-count-具体字段-的区别" class="headerlink" title="count( * ) 和 count(具体字段) 的区别"></a>count( * ) 和 count(具体字段) 的区别</h3><ul>
<li><p>count(具体字段) ：表示统计该字段下所有不为NULL的元素的总数</p>
</li>
<li><p>count( * ) ：统计表当中的总函数。（只要有一行数据，count则++）<br>因为每一行记录不可能都为NULL，一行数据中有一列不为NULL，则这行数据就是有效的。 </p>
</li>
<li><p>所有的分组函数可以组合起来一起用</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select sum(sal), min(sal), avg(sal), count(*) from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126120624155.png" alt="image-20230126120624155" style="zoom:67%;" /></li>
</ul>
<h2 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h2><h3 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h3><p>关键字顺序不能变</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	...
from
	...
where
	...
group by
	...
order by
	...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行顺序：<code>from、where、group by、select、order by</code> ，执行完where才执行group by，不能颠倒</p>
<p>from来找到表，先用where过滤然后再group by分组，最后查询并排序<br>而<code>select sum(sal) from emp;</code> 是按照整张表为一组进行分组来求工资总数</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;找出每个工作的薪资总和
select job, sum(sal) from emp group by job;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126123734006.png" alt="image-20230126123734006" style="zoom:67%;" />

<p>重要：在一条select语句当中，如果有 group by 语句的话，select 后面只能跟：参加分组的字段，以及分组函数，其他的不能跟<br>                    比如说<code>select ename, job, sum(sal) from emp group by job;</code> &#x2F;&#x2F;这个是错误的，不能跟无关的东西ename，会在<br>                    oracle中报错</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;按照部门编号分组，求每一组的最大值
select deptno,max(sal) from emp group by deptno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126124055772.png" alt="image-20230126124055772" style="zoom: 67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;找出 每个部门，不同工作岗位 的最高薪资。两个字段联合成1个字段看。
select 
	deptno, job, max(sal)
from 
	emp
group by
	deptno, job;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126133620248.png" alt="image-20230126133620248" style="zoom:67%;" />



<h3 id="having"><a href="#having" class="headerlink" title="having"></a>having</h3><p>分组查询后再筛选，分完组之后可以用having</p>
<p>找出每个部门最高薪资，要求显示最高薪资大于3000的</p>
<ul>
<li><p>方式一 : 用where在最开始的地方进行筛选，先筛选员工薪资大于3000的员工，再进行分组比对</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	deptno, max(sal)
from 
	emp
where
	sal &gt; 3000     &#x2F;&#x2F;注意：这里不能写max(sal) &gt; 3000
group by
	deptno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126135532668.png" alt="image-20230126135532668" style="zoom:67%;" />
</li>
<li><p>方式二：用having，在分完组之后进行筛选薪资大于3000 的员工</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 
	deptno, max(sal)
from
	emp
group by
	deptno
having
	max(sal) &gt; 3000;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126140241662.png" alt="image-20230126140241662" style="zoom:67%;" /></li>
</ul>
<p> 用where更节省时间，效率更高，但有的时候只能用having 来执行分组查询的比较命令</p>
<p>找出每个部门平均薪资，要求显示平均薪资高于2500的</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	deptno, avg(sal)
from
	emp
group by
	deptno
having
	avg(sal);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126140623062.png" alt="image-20230126140623062" style="zoom:67%;" />

<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>关键字顺序</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	...
from
	...
where
	...
group by
	...
having
	...
order by
	...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>执行顺序：<code>from、where、group by、having、select、order by</code> </p>
<p>找出除MANAGER岗位之外，每个岗位的平均薪资，要求显示平均薪资大于1500的，要求按照平均薪资降序排</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	job, avg(sal)
from 
	emp
where
	job !&#x3D; &#39;MANAGER&#39;
group by
	job
having
	avg(sal) &gt; 1500
order by
	avg(sal) desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126142329173.png" alt="image-20230126142329173" style="zoom: 67%;" />

<h3 id="distinct-关键字"><a href="#distinct-关键字" class="headerlink" title="distinct 关键字"></a>distinct 关键字</h3><p>distinct：把查询结果去除重复元素<br>        注意：原表数据不会被修改，只是查询结果去重</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;将工作岗位去重
select distinct job from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126153042440.png" alt="image-20230126153042440" style="zoom:67%;" />

<p>注意：distinct 只能出现在所有字段的最前方，不能是<code>select ename, distinct job from emp;</code> 这样写是错误的</p>
<p>distinct 出现在job，deptno 两个字段之前，表示两个字段联合起来去重，就是说将这两个字段当为一个整体去除重复的数据</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;将岗位和部门都相同的数据去重
select distinct job, deptno from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126153618887.png" style="zoom: 67%;" />

<h2 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>SQL92：1992年的时候出现的语法</p>
<p>SQL99 ：1999年的时候出现的语法（重点学习）</p>
<p>根据表连接的方式分类：</p>
<blockquote>
<p>内连接：</p>
<blockquote>
<p>等值连接<br>        非等值连接<br>        自连接</p>
</blockquote>
<p>外连接：</p>
<blockquote>
<p>左外连接（左连续）<br>        右外连接（右连接）</p>
</blockquote>
<p>全连接（用的不多）</p>
</blockquote>
<h3 id="笛卡尔积现象"><a href="#笛卡尔积现象" class="headerlink" title="笛卡尔积现象"></a>笛卡尔积现象</h3><p>两张表在没有任何条件限制下进行连接查询，会发生笛卡尔积现象</p>
<p>两张表进行连接时，连接后的结果是两张表数据相乘的数量，因为要拿一个表的某一个数据和其他表中的所有数据进行匹配</p>
<p><code>select ename, deptno from emp;</code> 和 <code>select dname, deptno from dept;</code> 两张表进行连接</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename, dname from emp, dept; &#x2F;&#x2F;将两张表进行连接，会出现14*4&#x3D;56条数据<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>为了避免笛卡尔积现象，需要添加限制条件筛选</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;将两张表中部门相同的名字输出显示
select 
	ename, dname
from
	emp, dept
where
	emp.deptno &#x3D; dept.deptno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>或者SQL92语法</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	e.ename, d.dname
from
	emp as e, dept as d
where
	e.deptno &#x3D; d.deptno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126161626924.png" alt="image-20230126161626924" style="zoom:67%;" />

<p>最终查询的结果条数是14条，但是匹配的过程中，匹配的次数没有减少，还是56次，只不过添加了条件使得只需要比较deptno</p>
<h3 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h3><p>两张表没有主次关系，平等的</p>
<h4 id="等值连接"><a href="#等值连接" class="headerlink" title="等值连接"></a>等值连接</h4><p>条件是等量关系，所以称为等值连接</p>
<p>查询每个员工所在部门名称，显示员工名和部门名</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;SQL92 语法,缺点:表连接操作和后期筛选操作都集中到where中了
select 
	e.ename, d.dname
from 
	emp as e, dept as d
where
	e.deptno &#x3D; d.deptno;
&#x2F;&#x2F;SQL99 语法
select 
	e.ename, d.dname
from
	emp as e
inner join  &#x2F;&#x2F;inner可以省略，表示内连接
	dept as d
on
	e.deptno &#x3D; d.deptno;
&#x2F;&#x2F;前面这些是指表与表的连接
where
	...(单独的对这些文件进行筛选操作)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>即：select … from 表1 join 表2 on a和b的连接条件 where 筛选条件</p>
<h4 id="非等值连接"><a href="#非等值连接" class="headerlink" title="非等值连接"></a>非等值连接</h4><p>条件不是一个等量关系，称为非等值连接</p>
<p> salgrade表中的数据</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126165020899.png" alt="image-20230126165020899" style="zoom: 67%;" />

<p>将emp表与salgrade表连接，找出每个员工的薪资等级，要求显示员工名、薪资、薪资等级</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 
	e.ename, e.sal, s.grade
from
	emp as e
join
	salgrade as s
on 
	e.sal between s.losal and s.hisal;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126165933247.png" alt="image-20230126165933247" style="zoom:67%;" />

<h4 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h4><p>一张表看成两张表</p>
<p>查询员工的上级领导，要求显示员工名和对应的领导名，需要用 员工的领导编号 &#x3D; 领导的编号，而最大领导的编号为NULL，不显示</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126172111714.png" alt="image-20230126172111714" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	e1.ename, e2.ename
from
	emp as e1
join 
	emp as e2
on
	e1.mgr &#x3D; e2.mgr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126171922869.png" alt="image-20230126171922869" style="zoom:67%;" />

<h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h3><p>上面自连接中没有KING的NULL信息，外连接可以全部查出来</p>
<p>内连接：e1 和 e2 连接，两张表没有主次关系，是平等的关系，特点：完成能够匹配上这个条件的数据查询出来</p>
<p>外连接，right表示右（外）连接，left表示左（外）连接，特点：可以将主表中全部信息查询出来，顺带着查询次表中关联的信息</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;外连接，查询员工的上级领导，要求显示员工名和对应的领导名
&#x2F;&#x2F;右外连接 right
select
	e1.ename, e2.ename
from
	emp as e1
right join
	emp as e2
on
	e1.mgv &#x3D; e2.empno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>右外连接：将join右边的表作为主表，全部显示信息，而左边作为次表，随着主表显示而显示数据</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126182356581.png" alt="image-20230126182356581" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;左外连接left
select 
	e1.ename, e2.ename
from
	emp as e1
join
	emp as e2
on
	e1.mgv &#x3D; e2.empno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>left：将join左边的表当作主表，将这张表的数据全部查询出来，捎带着关联查询右边的表</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126183427937.png" alt="image-20230126183427937" style="zoom:67%;" />



<p>外连接的查询结果条数一定是 &gt;&#x3D; 内连接的查询结果条数</p>
<h3 id="多表连接"><a href="#多表连接" class="headerlink" title="多表连接"></a>多表连接</h3><p>语法：</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
...
from
	a
join
	b
on
	a和b的连接条件
join
	c
on
	a和c的连接条件
right join    &#x2F;&#x2F;右连接
	d
on
	a和d的连接条件<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>找出每个员工的部门名称以及工资等级，还有上级领导，要求显示员工名、领导名、部门名、薪资、薪资等级</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	e1.ename, e2.ename, d.dname, s.grade, 
from
	emp e1
join
	dept as d
on
	e1.deptno &#x3D; d.deptno
join
	salgrade as s
on
	e1.sal between s.losal and s.hisal
left join
	emp as e2
on
	e1.mgr &#x3D; e2.empno;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>select 语句中嵌套 select 语句，被嵌套的 select 语句称为子查询</p>
<p>子查询可以出现的地方</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	..(select).
from
	..(select).
where
	..(select).<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="子查询具体"><a href="#子查询具体" class="headerlink" title="子查询具体"></a>子查询具体</h3><h4 id="where子句中的子查询"><a href="#where子句中的子查询" class="headerlink" title="where子句中的子查询"></a>where子句中的子查询</h4><p>找出比最低工资高的员工的姓名和工资</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	ename, sal
from 
	emp
where
	sal &gt; (select min(sal) from emp);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126192617141.png" alt="image-20230126192617141" style="zoom:67%;" />

<h4 id="from子句中的子查询"><a href="#from子句中的子查询" class="headerlink" title="from子句中的子查询"></a>from子句中的子查询</h4><p>from后面的子查询，可以将子查询的查询结果当作一张临时表。</p>
<p>查找出每个岗位的平均工资的薪资等级</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	t.*, s.grade
from
	(select avg(sal) as avgsal from emp group by job) as t
join
	salgrade as s
on
	t.avgsal between s.losal and s.hisal;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126195824359.png" alt="image-20230126195824359" style="zoom:67%;" />

<h4 id="select子句中的子查询：了解"><a href="#select子句中的子查询：了解" class="headerlink" title="select子句中的子查询：了解"></a>select子句中的子查询：了解</h4><p>在select子句中嵌套select查询，只能一次返回一条结果，不能多条</p>
<p>找出每个员工的部门名称，要求显示员工名、部门名</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select
	e.ename, (select d.dname from dept as d where e.deptno &#x3D; d.deptno) as dname
from
	emp as e;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126201357184.png" alt="image-20230126201357184" style="zoom: 50%;" />

<h2 id="union：合并查询结果集"><a href="#union：合并查询结果集" class="headerlink" title="union：合并查询结果集"></a>union：合并查询结果集</h2><p>合并查询结果可以使用 or 或者 in 的方法，但这两种方式匹配次数过多，union匹配次数较少，效率高</p>
<p><code>select ename,job from emp where job = &#39;MANAGER&#39; or job = &#39;SALESMAN&#39;;</code></p>
<p><code>select ename,job from emp where job in(&#39;MANAGER&#39;,&#39;SALESMAN&#39;);</code></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;union
select ename, job from emp where job &#x3D; &#39;MANAGER&#39;
union
select ename, job from emp where job &#x3D; &#39;SALESMAN&#39;; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126202622198.png" alt="image-20230126202622198" style="zoom: 67%;" /> 

<p>union的效率要高一些，对于表连接来说，每连接一次新表，则匹配的次数满足笛卡尔积<br>        但是union可以减少匹配的次数，在减少匹配次数的情况下，还可以完成两个结果集的拼接</p>
<h2 id="limit限制查询：重要"><a href="#limit限制查询：重要" class="headerlink" title="limit限制查询：重要"></a>limit限制查询：重要</h2><h3 id="limit作用"><a href="#limit作用" class="headerlink" title="limit作用"></a>limit作用</h3><p>作用：将查询结果集的一部分取出来，通常用在分页查询中，可以一页一页的翻页看信息，比如说百度是一次显示10条记录</p>
<p>用法：<code>limit startIndex, length</code> ： startIndex是起始下标，length是长度，下标从0开始，到length结束</p>
<p>缺省：<code>limit 5;</code> 这是取前5条数据</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;按照薪资降序，取出排名在前5名的员工
select 
	ename,sal
from
	emp
order by
	sal desc
limit 5;  &#x2F;&#x2F;取前5条数据<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126204517434.png" alt="image-20230126204517434" style="zoom:67%;" />

<p>mysql中的limit在order by 之后执行！！！</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;取出工资排名在[3-7]名的员工降序排
select
	ename, sal
from
	emp
order by
	sal desc
limit
	2,5; &#x2F;&#x2F;注意：第一个数字是起始位置(0表示第一个数，2表示第三个数值)，第二个数字是查询多少人，不是到那结束<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230126205004334.png" alt="image-20230126205004334" style="zoom:67%;" />

<h3 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h3><p>每页显示3条记录<br>    第1页：limit 0,3		[0 1 2]<br>    第2页：limit 3,3		[3 4 5]<br>    第3页：limit 6,3		[6 7 8]<br>    第4页：limit 9,3		[9 10 11]</p>
<p>每页显示 pageSize 条记录<br>第pageNo 页，limit(pageNo - 1) * pageSize, pageSize</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">public static void main(String[] args)&#123;
	&#x2F;&#x2F; 用户提交过来一个页码，以及每页显示的记录条数
	int pageNo &#x3D; 5; &#x2F;&#x2F;第5页
	int pageSize &#x3D; 10; &#x2F;&#x2F;每页显示10条

	int startIndex &#x3D; (pageNo - 1) * pageSize;  &#x2F;&#x2F;起始位置
	String sql &#x3D; &quot;select ...limit &quot; + startIndex + &quot;, &quot; + pageSize;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>记公式：</p>
<p><code>limit(pageNo - 1) * pageSize, pageSize</code></p>
<h3 id="大总结"><a href="#大总结" class="headerlink" title="大总结"></a>大总结</h3><p>关于DQL语句总结</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 
     ...
from
     ...
where
     ...
group by
     ...
having
     ...
order by
     ...
limit
     ...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">执行顺序    
1.from    
2.where    
3.group by    
4.having    
5.select    
6.order by    
7.limit..<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="DDL-1"><a href="#DDL-1" class="headerlink" title="DDL"></a>DDL</h1><h2 id="创建表：create"><a href="#创建表：create" class="headerlink" title="创建表：create"></a>创建表：create</h2><h4 id="语法格式："><a href="#语法格式：" class="headerlink" title="语法格式："></a>语法格式：</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table 表名(字段名1 数据类型, 字段名2 数据类型, 字段名3 数据类型);

create table 表名(
	字段名1 数据类型,
    字段名2 数据类型,
    字段名3 数据类型
);
表名：建议以 t_ 或者 tbl_ 开始，可读性强，见名知意
字段名：见名知意
表名和字段名都属于标识符<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="关于mysql-中的数据类型"><a href="#关于mysql-中的数据类型" class="headerlink" title="关于mysql 中的数据类型"></a>关于mysql 中的数据类型</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">很多数据类型，我们只需要掌握一些常见的数据类型即可。

	varchar(最长255)
		可变长度的字符串
		比较智能，节省空间。
		会根据实际的数据长度动态分配空间。

		优点：节省空间
		缺点：需要动态分配空间，速度慢。

	char(最长255)
		定长字符串
		不管实际的数据长度是多少。
		分配固定长度的空间去存储数据。
		使用不恰当的时候，可能会导致空间的浪费。

		优点：不需要动态分配空间，速度快。
		缺点：使用不当可能会导致空间的浪费。

		varchar和char我们应该怎么选择？
			性别字段你选什么？因为性别是固定长度的字符串，所以选择char。
			姓名字段你选什么？每一个人的名字长度不同，所以选择varchar。

	int(最长11)
		数字中的整数型。等同于java的int。

	bigint
		数字中的长整型。等同于java中的long。

	float	
		单精度浮点型数据

	double
		双精度浮点型数据

	date
		短日期类型

	datetime
		长日期类型

	clob
		字符大对象
		最多可以存储4G的字符串。
		比如：存储一篇文章，存储一个说明。
		超过255个字符的都要采用CLOB字符大对象来存储。
		Character Large OBject:CLOB
	blob
		二进制大对象
		Binary Large OBject
		专门用来存储图片、声音、视频等流媒体数据。
		往BLOB类型的字段上插入数据的时候，例如插入一个图片、视频等，
		你需要使用IO流才行。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">t_movie 电影表（专门存储电影信息的）

编号			名字				故事情节		上映日期		时长			   海报			类型
no(bigint)	name(varchar)	history(clob)	playtime(date)	time(double)   image(blob)	type(char)
------------------------------------------------------------------------------------------------------------
10000		哪吒			...........			2019-10-11		2.5				....		   &#39;1&#39;
10001	林正英之娘娘       ...........		2019-11-11		1.5				....			&#39;2&#39;
....<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>创建一个学生表</p>
<p>学号、姓名、年龄、性别、邮箱地址</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table t_student(
	no int,
    name varchar(32),
    sex char(1),
    age int (3),
    email varchar(255)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127190427839.png" alt="image-20230127190427839" style="zoom:50%;" />
</li>
<li><p>快速创建表（很少用）</p>
<p>原理：</p>
<p>​		将一个查询结果当作一张新表新建<br>​		这个可以完成表的快速复制<br>​		表创建出来，同时表中的数据也存在了</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table emp2 as select * from emp;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128153328664.png" alt="image-20230128153328664" style="zoom:67%;" /></li>
</ul>
<h2 id="删除表：drop"><a href="#删除表：drop" class="headerlink" title="删除表：drop"></a>删除表：drop</h2><p>drop table xxx;</p>
<p>如果表不存在，则会报错  <code>drop table t_student;</code></p>
<p>可以先判断表是否存在</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">drop table if exists t_student;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127194028017.png" alt="image-20230127194028017" style="zoom: 67%;" />

<h2 id="插入数据：insert"><a href="#插入数据：insert" class="headerlink" title="插入数据：insert"></a>插入数据：insert</h2><h3 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h3><p>语法格式：<code>insert into 表名(字段名1,字段名2,字段名3,...) values(值1,值2,值3,...);</code> </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into t_student(no,name,sex,age,email) values(1,&#39;zhangsan&#39;,&#39;m&#39;,20,&#39;zhangsan@qq.com&#39;);
insert into t_student(email,name,sex,age,no) values(&#39;lisi@qq.com&#39;,&#39;lisi&#39;,&#39;f&#39;,20,2);
insert into t_student(no) values(3);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127192421216.png" alt="image-20230127192421216" style="zoom: 67%;" />

<p> insert语句执行成功了就会多出一条记录，没有给其他字段指定值的话，默认值是NULL</p>
<p>可以在建表的时候给字段名一个初始默认值，用default来指定默认值</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table t_student(
	no int,
    name varchar(32),
    sex char(1) default &#39;m&#39;,
    age int(3),
    email varchar(255)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127193020502.png" alt="image-20230127193020502" style="zoom:67%;" />

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127193446559.png" alt="image-20230127193446559" style="zoom: 67%;" />

<p>一次可以插入多条数据：</p>
<p>语法：<code>insert into 表名(字段名1，字段名2，...) values(),(),()...;</code> </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into t_student
	(id, name, sex, age, email)
values
	(1, &#39;zhangsan&#39;, &#39;m&#39;, 20, &#39;zhangsan@qq.com&#39;),
	(2, &#39;lisi&#39;, &#39;f&#39;, 18, &#39;lisi@qq.com&#39;),
	(3, &#39;wangwu&#39;, &#39;m&#39;, 30, &#39;wangwu@qq.com&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128152705049.png" alt="image-20230128152705049" style="zoom: 50%;" />

<p>将查询结果插入到一张表中，前提是查询结果的字段名和顺序和另一张表相同</p>
<p>格式：<code>insert into 表1 select 表1的所有字段名 from 表2；</code> : 将表2中查询到的数据插入到表1</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;将t_student1中的数据插入到 t_student 中
insert into t_student select id,name,sex,age,email from t_student1;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="插入日期"><a href="#插入日期" class="headerlink" title="插入日期"></a>插入日期</h3><p>数字格式化：format</p>
<p>将emp表中的sal表示成千分位，即999,999 而不是999999、</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename,format(sal,&#39;$999,999&#39;) as sal from emp;  &#x2F;&#x2F;format(数值,&#39;格式&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127195904374.png" alt="image-20230127195904374" style="zoom: 67%;" />

<p>使用date类型表示</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table t_user(
	id int,
    name varchar(32),
    birth date   &#x2F;&#x2F;生日也可以使用date日期类型，也可以使用字符串类型 birth char(10)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127200736069.png" alt="image-20230127200736069" style="zoom:67%;" />

<p><code>str_to_date</code> : 将字符串varchar类型转换成 date 类型</p>
<p>通常使用在插入insert方面，因为插入的时候需要一个日期类型的数据，需要通过该函数将字符串转换成date</p>
<blockquote>
<p>mysql默认的日期格式为%Y-%m-%d，如果提供的日期字符串格式为%Y-%m-%d，则不用更改</p>
<p>即<code>insert into t_user(id,name,birth) values(2,lisi,&#39;2001-05-12&#39;);</code> </p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;str_to_date(&#39;字符串日期&#39;,&#39;日期格式&#39;);
insert into t_user(id,name,birth) values(1,&#39;zhangsan&#39;,str_to_date(&#39;01-10-1990&#39;,&#39;%d-%m-%Y&#39;));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127203923273.png" alt="image-20230127203923273" style="zoom:67%;" />

<p>mysql的日期格式:</p>
<pre class="line-numbers language-msyql" data-language="msyql"><code class="language-msyql">%Y ----&gt; 年，大写代表全部1999，小写代表年份后两位99
%m ----&gt; 月，格式为(01...12), %c 代表月格式为(1...12)
%d ----&gt; 日
%h ----&gt; 时
%i ----&gt; 分
%s ----&gt; 秒<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>date_format</code> : 将date类型转换成具有一定格式的varchar 字符串类型，查询的时候可以使用进行转换</p>
<p>这个函数通常使用在查询日期方面，设置展示的日期格式。</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;date_format(日期类型数据，&#39;日期格式&#39;);
&#x2F;&#x2F;例：将%Y-%m-%d格式转换为 %Y&#x2F;%m&#x2F;%d 格式
select id,name,birth date_format(birth, &#39;%Y&#x2F;%m&#x2F;%d&#39;) as birth from t_user;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127205406452.png" alt="image-20230127205406452" style="zoom:67%;" />

<p>查询的时候，mysql默认设置的是%Y-%m-%d</p>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127205601297.png" alt="image-20230127205601297" style="zoom: 67%;" />

<p>java中的日期格式是<code>yyyy-MM-dd HH:mm:ss SSS(毫秒)</code> </p>
<h3 id="date和datetime区别"><a href="#date和datetime区别" class="headerlink" title="date和datetime区别"></a>date和datetime区别</h3><p>date 是短日期类型：只包括年月日信息</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table t_user(
	id int,
    name varchar(32),
    birth date,
    create_time date
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127210420716.png" alt="image-20230127210420716" style="zoom: 67%;" />

<p>mysql中短日期类型默认格式：<code>%Y-%m-%d</code>  </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into 
	t_user(id,name,birth,create_time) 
values
	(1,&#39;zhangsan&#39;,&#39;1999-9-9&#39;,&#39;2023-1-27 21:03:45&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127210647138.png" alt="image-20230127210647138" style="zoom:67%;" />

<p>datetime 是长日期类型：包括年月日时分秒信息</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table t_user(
	id int,
    name varchar(32),
    birth date,
    create_time datetime
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127211500330.png" alt="image-20230127211500330" style="zoom:67%;" /> 

<p>mysql中长日期类型默认格式：<code>%Y-%m-%d %h:%i:%s</code> </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into 
	t_user(id,name,birth,create_time) 
values
	(1,&#39;zhangsan&#39;,&#39;1999-09-09&#39;,&#39;2012-12-12 21:12:23&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127212058119.png" alt="image-20230127212058119"></p>
<p>在mysql中可以获取当前时间，用now( )函数，并且获取的时间带有：时分秒信息，是datetime类型的</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into
	t_user(id,name,birth,create_time)
values
	(2,&#39;lisi&#39;,&#39;2012-12-12&#39;,now());<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127212018420.png" alt="image-20230127212018420"></p>
<h2 id="修改数据：update"><a href="#修改数据：update" class="headerlink" title="修改数据：update"></a>修改数据：update</h2><p>语法格式：<code>update 表名 set 字段名1=值1，字段名2=值2，字段名3=值3,...where 条件;</code> </p>
<p>注意：没有条件限制会导致所有数据全部更新。</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">update t_user set name &#x3D; &#39;jack&#39;, birth &#x3D; &#39;2000-10-11&#39; where id &#x3D; 2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127212930890.png" alt="image-20230127212930890" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;不加where条件会全部更改
update t_user set name &#x3D; &#39;abc&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127214604460.png" alt="image-20230127214604460" style="zoom:67%;" />

<h2 id="删除数据：delete"><a href="#删除数据：delete" class="headerlink" title="删除数据：delete"></a>删除数据：delete</h2><p>语法格式：<code>delete from 表名 where 条件;</code> </p>
<p>注意：没有条件，整张表的数据会全部删除</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">delete from t_user where id &#x3D; 2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127213543297.png" alt="image-20230127213543297" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;没有where条件，整张表的数据会全部删除
delete from t_user;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230127213755499.png" alt="image-20230127213755499" style="zoom:67%;" />

<p>快速删除表中的数据，用 <code>truncate</code> ，delete是一个一个删除的，truncate直接全删除了，delete可以恢复，truncate不能恢复数据</p>
<blockquote>
<p>delete语句删除数据的原理（delete属于DML语句）</p>
<p>​			表中的数据被删除了，但是这个数据在硬盘上的真实存储空间不会被释放！！！<br>​						缺点：删除效率比较低<br>​						优点：支持回滚，后悔了可以再恢复数据</p>
</blockquote>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128154325132.png" alt="image-20230128154325132" style="zoom:67%;" />

<blockquote>
<p>truncate 语句删除数据的原理（truncate属于DDL操作）<code>truncate table 表名;</code></p>
<p>​			这种删除效率比较高，表被一次阶段，物理删除<br>​						缺点：不支持回滚，数据删除不能被恢复，只删除数据，表还在<br>​						优点：快速删除</p>
</blockquote>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128154445444.png" alt="image-20230128154445444" style="zoom:67%;" />

<h2 id="修改表结构"><a href="#修改表结构" class="headerlink" title="修改表结构"></a>修改表结构</h2><p>对表结构的修改需要使用：alter ，属于DDL语句（包括：create drop alter)</p>
<ul>
<li>在实际的开发中，需求一旦确定之后，表一旦设计好之后，很少的<br>进行表结构的修改。因为开发进行中的时候，修改表结构，成本比较高。<br>修改表的结构，对应的java代码就需要进行大量的修改。成本是比较高的。<br>这个责任应该由设计人员来承担！</li>
<li>由于修改表结构的操作很少，所以我们不需要掌握，如果有一天<br>真的要修改表结构，你可以使用工具(sqlyog之类的数据库软件工具)</li>
</ul>
<h1 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h1><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><p>在创建表的时候，我们可以给表中的字段加上一些约束，来保证这个表中数据的完整性、有效性！！！</p>
<p>四种约束：</p>
<ul>
<li>非空约束：<code>not null</code> </li>
<li>唯一性约束：<code>unique</code> </li>
<li>主键约束：<code>primary key</code> ：简称PK</li>
<li>外键约束：<code>foreign key</code>  ：简称FK</li>
<li>检查约束：<code>check</code> （mysql 不支持，oracle 支持）</li>
</ul>
<p>列级约束是指各个字段（列）的约束，这样的话会执行每一字段的约束判断</p>
<p>表级约束是指字段联合起来进行约束，将两个字段复合起来进行约束判断</p>
<p>还有一个：<code>unsigned</code> : 表示不能为负值</p>
<h3 id="非空约束：not-null"><a href="#非空约束：not-null" class="headerlink" title="非空约束：not null"></a>非空约束：not null</h3><p>非空 <code>not null</code> 约束的字段不能为NULL，只有列级约束没有表级约束</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;将name这个字段用not null约束起来，表示插入数据的时候name这个字段不能为NULL
create table t_vip(
	id int,
    name varchar(255) not null  &#x2F;&#x2F;not null 只有列级约束，没有表级约束
)；<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128182758069.png" alt="image-20230128182758069" style="zoom:50%;" />

<p>这个表中的name不能为NULL</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;插入数据，一条name不为NULL，一条name为NULL，但id可以为空
insert into t_vip(id,name) values(1,&#39;zhangsan&#39;);
insert into t_vip(id) values(1);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128182830567.png" alt="image-20230128182830567" style="zoom:50%;" />

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128183129317.png" alt="image-20230128183129317" style="zoom: 67%;" />

<blockquote alt="danger"><p>
     xxx.sql这种文件被称为sql脚本文件，sql脚本文件中编写了大量的sql语句<br />
    在执行sql脚本文件的时候，该文件中所有的sql语句会全部执行<br />
    批量的执行sql语句可以导入：'mysql> source D:\course\03-MySQL\doucument\vip_sql' <br />
       用绝对路径，执行这个脚本文件，不要直接记事本打开，文件太大会导致死机！！！<br />
    </p></blockquote>


<h3 id="唯一性约束：unique"><a href="#唯一性约束：unique" class="headerlink" title="唯一性约束：unique"></a>唯一性约束：unique</h3><p>唯一性约束 unique 约束的字段不能重复，但是可以为NULL，可以用列级约束，也可以用表级约束</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;被约束的这个字段中所有的数值不能重复，其他字段可以重复
drop table if exists t_vip;&#x2F;&#x2F;删除t_vip这个表
create table t_vip(
	id int,
    name varchar(255) unique,  &#x2F;&#x2F;这是列级约束，只是这一字段是唯一性
    email varchar(255)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128184953926.png" alt="image-20230128184953926" style="zoom: 67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into t_vip(id, name, email) values(1, &#39;zhangsan&#39;, &#39;zhangsan@qq.com&#39;)；
insert into t_vip(id, name, email) values(2, &#39;lisi&#39;, &#39;zhangsan@qq.com&#39;);&#x2F;&#x2F;name不一样，email一样可以插入成功，因为name没有重复
insert into t_vip(id, name, email) values(3, &#39;lisi&#39;, &#39;wangwu@qq.com&#39;); &#x2F;&#x2F;name一样则不能插入成功，因为name重复了<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128190121881.png" alt="image-20230128190121881" style="zoom:67%;" />

<blockquote>
<p>唯一性约束unique可以为NULL</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into t_vip(id) values(4);
insert into t_vip(id,name,email) values(5,NULL,&#39;zhaoliu@qq.com&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128190707271.png" alt="image-20230128190707271" style="zoom:67%;" />

<blockquote>
<p>表级约束使用：需要给多个字段联合起来添加某一个约束的时候，需要使用表级约束</p>
<p>新需求，name 和 email 联合起来具有唯一性</p>
</blockquote>
<p>这需要用表级约束，指明这两个字段联合起来具有唯一性</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">drop table if exists t_vip; &#x2F;&#x2F;删除t_vip这个表
create table t_vip(
	id int,
    name varchar(255),
    email varchar(255),
    unique(name, email)  
    &#x2F;&#x2F;约束没有添加在列的后面，这种约束被称为表级约束，表示这两个字段为一个整体，这两个字段都重复才算重复，只有一个重复则不满足重复约束条件。
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128191439764.png" alt="image-20230128191439764" style="zoom:67%;" />

<p>插入数据：</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into t_vip(id,name,email) values(1,&#39;zhangsan&#39;,&#39;zhangsan@qq.com&#39;);

insert into t_vip(id,name,email) values(2,&#39;lisi&#39;,&#39;zhangsan@qq.com&#39;);&#x2F;&#x2F;name不一样，但email一样，不会报错，因为name和email两者联合起来不重复，不满足约束条件

insert into t_vip(id,name,email) values(3,&#39;lisi&#39;,&#39;lisi@qq.com&#39;);&#x2F;&#x2F;name一样，但email不一样，不会报错，因为name和email两者联合起来不重复，不满足约束条件

insert into t_vip(id,name,email) values(4,&#39;lisi&#39;,&#39;zhangsan@qq.com&#39;);&#x2F;&#x2F;name一样，email一样，会报错，两者都一样，重复了<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128192228011.png" alt="image-20230128192228011" style="zoom:67%;" />

<blockquote>
<p>unique 和 not null 联合起来，既不能为空，又不能重复</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">drop table if exists t_vip; &#x2F;&#x2F;删除t_vip表
create table t_vip(
	id int,
    name varchar(255) not null unique
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128193652817.png" alt="image-20230128193652817" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into t_vip(id,name) values(1, &#39;zhangsan&#39;); &#x2F;&#x2F;第一个值，添加成功
insert into t_vip(id) values(2); &#x2F;&#x2F;name不能为空
insert into t_vip(id,name) values(3, &#39;zhangsan&#39;); &#x2F;&#x2F;name不能重复<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128193939745.png" alt="image-20230128193939745" style="zoom:67%;" />

<h3 id="主键约束：primary-key"><a href="#主键约束：primary-key" class="headerlink" title="主键约束：primary key"></a>主键约束：primary key</h3><p>主键约束：primary key （简称PK）</p>
<blockquote>
<p>主键约束：就是一种约束</p>
<p>主键字段：该字段上添加了主键约束，这样的字段叫做：主键字段</p>
<p>主键值：主键字段中的每一个值都叫做：主键值</p>
</blockquote>
<blockquote alt="question"><p>
    主键值有什么用？<br/>
    主键值是每一行记录的唯一标识。<br/>
    主键值是每一行记录的身份证号，这一行身份证号是跟其他行一定不相同的。<br/>
    其他值都一样，只要主键值不一样，那么这两条数据就是不一样的。
    </p></blockquote>


<p>注意：任何一张表都应该有主键，没有主键，表无效！！！</p>
<p>主键特征：<code>primary key</code> &#x3D;&#x3D; <code>not null + unique</code> ：主键值不能是NULL，同时也不能重复</p>
<p>添加主键约束，一个字段做主键叫做单一主键，两个字段也能联合做一个主键，一张表中只能有一个主键</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">drop table if exists t_vip; &#x2F;&#x2F;删除t_vip表
create table t_vip(
	id int primary key,   &#x2F;&#x2F;这是列级约束
    name varchar(255)
);
&#x2F;&#x2F;也可以用表级约束
create table t_vip(
	id int,
    name varchar(255),
    primary key(id,name)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128200536630.png" alt="image-20230128200536630" style="zoom:67%;" />

<p>插入数据</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;id是主键，表示id是唯一的，即其他都可以重复，但id是不会也不能重复
insert into t_vip(id,name) values(1,&#39;zhangsan&#39;);
insert into t_vip(id,name) values(2,&#39;zhangsan&#39;);  &#x2F;&#x2F;id不一样，不会报错
insert into t_vip(id,name) values(1,&#39;wangwu&#39;); &#x2F;&#x2F;id一样，会报错
insert into t_vip(id) values(3);  &#x2F;&#x2F;非主键name可以为空NULL
insert into t_vip(name) values(&#39;lisi&#39;); &#x2F;&#x2F;主键不能为空NULL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128201456668.png" alt="image-20230128201456668" style="zoom:67%;" />

<blockquote>
<p>复合主键：primary key(id,name)   ： 表示将id和name联合成一个主键，两者必须都重复才错误，而且复合主键的任何一个字段都不能为空NULL，不建议使用复合主键，单一主键够用了</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">drop table if exists t_vip; &#x2F;&#x2F;删除t_vip
create table t_vip(
	id int,
    name varchar(255),
    email varchar(255),
    primary key(id,name)  &#x2F;&#x2F;将id和name联合成一个主键
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128202707618.png" alt="image-20230128202707618" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;id和name联合起来做主键
insert into t_vip(id,name,email) values(1,&#39;zhangsan&#39;,&#39;zhangsan@qq.com&#39;); 

insert into t_vip(id,name,email) values(2,&#39;zhangsan&#39;,&#39;zhangsan@qq.com&#39;);&#x2F;&#x2F;id不重复，name重复，不会报错，因为id和name两个字段联合起来不重复

insert into t_vip(id,name,email) values(2,&#39;lisi&#39;,&#39;zhangsan@qq.com&#39;);&#x2F;&#x2F;id重复，name不重复，不会报错，因为id和name两个字段联合起来不重复，

insert into t_vip(id,name,email) values(1,&#39;zhangsan&#39;,&#39;lisi@qq.com&#39;);&#x2F;&#x2F;id和name联合起来重复，报错<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128203829523.png" alt="image-20230128203829523" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;复合主键的任何一个字段都不能为空NULL
insert into t_vip(id,email) values(1,&#39;zhangsan@qq.com&#39;); &#x2F;&#x2F;name为空，报错
insert into t_vip(name,email) values(&#39;lisi&#39;,&#39;lisi@qq.com&#39;); &#x2F;&#x2F;id为空，报错<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128204424236.png" alt="image-20230128204424236" style="zoom: 67%;" />

<blockquote alt="danger"><p>一张表，主键约束只能添加1个。（主键只能有1个。上面那个是复合主键，联合起来构成了一个）</p></blockquote>



<blockquote>
<p>主键建议使用：int 、bigint、char 等类型</p>
<p>​			不建议使用：varchar类型来做主键，主键值一般都是数字，一般都是定长的</p>
</blockquote>
<p>主键除了单一主键和复合主键之外，还可以这样进行分类：<br>        自然主键：主键值是一个自然数1，2，3，4….，和业务没关系。<br>        业务主键：主键值和业务紧密关联，例如拿银行卡账号做主键值。这就是业务主键！</p>
<pre><code>    在实际开发中使用业务主键多，还是使用自然主键多一些？
        自然主键使用比较多，因为主键只要做到不重复就行，不需要有意义。
        业务主键不好，因为主键一旦和业务挂钩，那么当业务发生变动的时候，
        可能会影响到主键值，所以业务主键不建议使用。尽量使用自然主键。
</code></pre>
<blockquote>
<p>自动维护一个主键值</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">drop table if exists t_vip; &#x2F;&#x2F;删除t_vip表
create table t_vip(
		id int primary key auto_increment, &#x2F;&#x2F;auto_increment表示自增，从1开始，以1递增！自然主键自增
		name varchar(255)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128205114912.png" alt="image-20230128205114912" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into t_vip(name) values(&#39;zhangsan&#39;);
insert into t_vip(name) values(&#39;zhangsan&#39;);
insert into t_vip(name) values(&#39;zhangsan&#39;);
insert into t_vip(name) values(&#39;zhangsan&#39;);
insert into t_vip(name) values(&#39;zhangsan&#39;);
insert into t_vip(name) values(&#39;zhangsan&#39;);
insert into t_vip(name) values(&#39;zhangsan&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128205336065.png" alt="image-20230128205336065" style="zoom:67%;" />

<h3 id="外键约束：foregin-key"><a href="#外键约束：foregin-key" class="headerlink" title="外键约束：foregin key"></a>外键约束：foregin key</h3><ul>
<li>外键约束：foregin key （简称FK）</li>
</ul>
<blockquote>
<p>外键约束：就是一种约束</p>
<p>外键字段：该字段上添加了外键约束，这样的字段叫做：外键字段</p>
<p>外键值：外键字段中的每一个值都叫做：外键值</p>
</blockquote>
<ul>
<li>外键约束通常使用场合：</li>
</ul>
<blockquote>
<p>当一张表中的某个字段下的值有很多重复的，比如说整个年级只有2个班级，很多人对应着一个班级<br>这样就可以再建一张表(父表)来存储这两个班级，然后用外键约束方式将两张表联合起来。<br/><br>有外键约束的时候，子表中的班级信息索取范围就是父表的信息，<br>如果父表只有两个班级1和2，则子表也只有两个类型班级1，2，不能有另外的班级3。</p>
</blockquote>
<p> 设计数据库表，来描述 “班级和学生” 的信息</p>
<ul>
<li>方式一：</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128210729636.png" alt="image-20230128210729636"></p>
<p>在这张表中，班级classname数据有很多是重复的</p>
<p>缺点：数据冗余，空间浪费</p>
<ul>
<li><p>方式二</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128211411949.png" alt="image-20230128211411949"></p>
</li>
</ul>
<p>当cno字段没有任何约束的时候，可能会导致数据无效。可能出现一个102，但是102班级不存在。<br>        所以为了保证cno字段中的值都是100和101，需要给cno字段添加外键约束。即在插入数据的时候就查找错误<br>        那么：cno字段就是外键字段。cno字段中的每一个值都是外键值。</p>
<blockquote alt="warn"><p>
    t_class 是父表，t_student是子表<br/>
    删除表的顺序：先删子，再删父<br/>
    创建表的顺序：先创建父，再创建子<br/>
    删除数据的顺序：先删子，再删父<br/>
    插入数据的顺序：先插入父，再插入子<br/>
    </p></blockquote>


<blockquote alt="question"><p>
   思考：<br/>
    子表中的外键引用的父表中的某个字段，被引用的这个字段必须是主键吗？<br/>
    不一定是主键，但至少具有 unique 约束，外键值可以为NULL
</p></blockquote>


<p>创建父表和子表，先父后子</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">drop table if exists t_student;
drop table if exists t_class;

create table t_class( &#x2F;&#x2F;创建主表
	classno int primary key, &#x2F;&#x2F;将父表t_class的classno设置成主键
    classname varchar(255)
);
create table t_student(
	no int primary key auto_increment,  &#x2F;&#x2F;将no自增主键
    name varchar(255),
    cno int,  &#x2F;&#x2F;这是对应的父类的值，将通过cno来和父类的classno进行对应查找,两者的值相同
    foreign key(cno) references t_class(classno)  &#x2F;&#x2F;将子表与父表外键约束连接，子表中的cno值必须存在于父表中的classno值中
)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128214120067.png" alt="image-20230128214120067" style="zoom: 67%;" />

<p>插入父子表，先父后子，父表没有信息，子表中没有与其对应的外键约束信息就插入不了子表，所以必须先插入父表，再插入子表</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;先插入父表
insert into t_class(classno, classname) values(100, &#39;北京市大兴区亦庄镇第二中学高三1班&#39;);
insert into t_class(classno, classname) values(101, &#39;北京市大兴区亦庄镇第二中学高三1班&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230128214625408.png" alt="image-20230128214625408" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql"> &#x2F;&#x2F;再插入子表
insert into t_student(name,cno) values(&#39;jack&#39;, 100);
insert into t_student(name,cno) values(&#39;lucy&#39;, 100);
insert into t_student(name,cno) values(&#39;lilei&#39;, 100);
insert into t_student(name,cno) values(&#39;hanmeimei&#39;, 100);
insert into t_student(name,cno) values(&#39;hanmeimei&#39;, 100);
insert into t_student(name,cno) values(&#39;lisi&#39;, 101);
insert into t_student(name,cno) values(&#39;wangwu&#39;, 101);
insert into t_student(name,cno) values(&#39;zhaoliu&#39;, 101);
&#x2F;&#x2F;子表中外键值可以为NULL
insert into t_student(name) values(&#39;xiaoming&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

  <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230129105047480.png" alt="image-20230129105047480" style="zoom:67%;" />

<h1 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h1><h2 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h2><p>存储引擎是MySQL中特有的一个术语，其他数据库中没有。（Oracle中，有但不叫这个名字）</p>
<p>存储引擎实际上是一个表存储&#x2F;组织数据的一种方式</p>
<p>不同的存储引擎，表存储数据的方式不同</p>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><blockquote>
<p>给表添加&#x2F;指定存储引擎</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;在建表的时候可以给表指定存储引擎
create table t_student(
	id int primary key,  &#x2F;&#x2F;设置成主键
    name varchar(255),
    cno int,
    foreign key(cno) references t_class(classno)
)engine&#x3D;InnoDB default charset&#x3D;utf8;  &#x2F;&#x2F;存储引擎为InnoDB，存储格式为utf8格式 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230129152725098.png" alt="image-20230129152725098" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;在建表的时候可以变字符集格式和存储引擎
create table t_product(
	id int primary key, &#x2F;&#x2F;id为主键
    name varchar(255)
) engine&#x3D;MyISAM default charset&#x3D;gbk;  &#x2F;&#x2F;存储引擎为MyISAM，字符编码为gbk格式的<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230129153204481.png" alt="image-20230129153204481" style="zoom:67%;" />

<blockquote>
<p>查看此mysql版本 <code>select version();</code> </p>
<p><a href="#star">点击此处查看</a>mysql版本支持的存储引擎 <code>show engines \G</code> </p>
</blockquote>
 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230129153544829.png" alt="image-20230129153544829" style="zoom:67%;" />

<p>九大存储引擎，此版本支持八个</p>
<h2 id="存储引擎介绍"><a href="#存储引擎介绍" class="headerlink" title="存储引擎介绍"></a>存储引擎介绍</h2><blockquote>
<p>InnoDB 存储引擎（默认）</p>
</blockquote>
<p>这是mysql默认的存储引擎，同时也是一个重量级的存储引擎。<br>        InnoDB支持事务，支持数据库崩溃后自动恢复机制。<br>        InnoDB存储引擎最主要的特点是：非常安全。</p>
<p>特征：</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">– 每个 InnoDB 表在数据库目录中以.frm 格式文件表示
– InnoDB 表空间 tablespace 被用于存储表的内容（表空间是一个逻辑名称。表空间存储数据+索引。）
– 提供一组用来记录事务性活动的日志文件
– 用 COMMIT(提交)、SAVEPOINT 及ROLLBACK(回滚)支持事务处理
– 提供全 ACID 兼容
– 在 MySQL 服务器崩溃后提供自动恢复
– 多版本（MVCC）和行级锁定
– 支持外键及引用的完整性，包括级联删除和更新<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>InnoDB最大的特点就是支持事务：<br>        以保证数据的安全。效率不是很高，并且也不能压缩，不能转换为只读，<br>        不能很好的节省存储空间。</p>
<blockquote>
<p>MyISAM 存储引擎</p>
</blockquote>
<p>它管理的表具有以下特征：<br>        使用三个文件表示每个表：</p>
<ul>
<li><p>格式文件 — 存储表结构的定义（mytable.frm）	</p>
</li>
<li><p>数据文件 — 存储表行的内容（mytable.MYD）	</p>
</li>
<li><p>索引文件 — 存储表上索引（mytable.MYI）：索引是一本书的目录，缩小扫描范围，提高查询效率的一种机制。</p>
<p>可被转换为压缩、只读表来节省空间<br>InnoDB中每个表都以.frm格式的文件表示</p>
<pre><code>提示一下：
    对于一张表来说，只要是主键，
    或者加有unique约束的字段上会自动创建索引。

MyISAM存储引擎特点：
    可被转换为压缩、只读表来节省空间
    这是这种存储引擎的优势！！！！

MyISAM不支持事务机制，安全性低。
</code></pre>
</li>
</ul>
<blockquote>
<p>MEMORY 存储引擎</p>
</blockquote>
<p>使用 MEMORY 存储引擎的表，其数据存储在内存中（一断电数据 就消失了）而不是硬盘，且行的长度固定，<br>    这两个特点使得 MEMORY 存储引擎非常快。</p>
<pre><code>MEMORY 存储引擎管理的表具有下列特征：
    – 在数据库目录内，每个表均以.frm 格式的文件表示。
    – 表数据及索引被存储在内存中。（目的就是快，查询快！）
    – 表级锁机制。
    – 不能包含 TEXT 或 BLOB 字段。

MEMORY 存储引擎以前被称为HEAP 引擎。

MEMORY引擎优点：查询效率是最高的。不需要和硬盘交互。
MEMORY引擎缺点：不安全，关机之后数据消失。因为数据和索引都是在内存当中。
</code></pre>
<h1 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h1><h2 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h2><p>一个事务就是一个完整的业务逻辑，是一个最小的工作单元，不可再分</p>
<p>完整的业务逻辑：</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">假设转账，从A账户向B账户中转账10000.
将A账户的钱减去10000（update语句）
将B账户的钱加上10000（update语句）
这就是一个完整的业务逻辑。

以上的操作是一个最小的工作单元，要么同时成功，要么同时失败，不可再分。
这两个update语句要求必须同时成功或者同时失败，这样才能保证钱是正确的。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote alt="warn"><p>只有DML语句(即 insert,delete,update)和事务有关系，其他语句都无关
    </p></blockquote>


<p>事务就是批量的DML语句同时成功，或者同时失败！保证数据的安全性，不能A给B钱，A给钱失败了而B却收到了A给的钱，需要同时成功或同时失败</p>
<blockquote>
<p>多条DML语句的同时成功或同时失败</p>
</blockquote>
<p>InnoDB存储引擎：提供一组用来记录事务性活动的日志文件</p>
<p>在事务的执行过程中，每一条DML的操作都会记录到“事务性活动的日志文件”中。<br>            在事务的执行过程中，我们可以提交事务，也可以回滚事务。</p>
<pre><code>提交事务？
    清空事务性活动的日志文件，将数据全部彻底持久化到数据库表中。
    提交事务标志着，事务的结束。并且是一种全部成功的结束。

回滚事务？
    将之前所有的DML操作全部撤销，并且清空事务性活动的日志文件
    回滚事务标志着，事务的结束。并且是一种全部失败的结束。
</code></pre>
<h2 id="操作-1"><a href="#操作-1" class="headerlink" title="操作"></a>操作</h2><p>事务开始 : <code>start transaction</code> </p>
<p>没提交之前想撤销，即回滚: <code>rollback</code> </p>
<p>写完事务后提交（保存或存档）: <code>commit</code> </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">即：先事务开始
start transaction      &#x2F;&#x2F; 或者 set autocommit &#x3D; off  &#x2F;&#x2F;关闭自动提交
如果有想撤回的，回滚
rollback
最后提交信息
commit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>mysql默认是自动提交的，即自动存档，每执行一条DML语句，则提交一次</p>
<p>这种自动提交实际上是不符合我们的开发习惯，因为一个业务通常是需要多条DML语句共同执行才能完成的，为了保证数据的安全，必须要求同时成功之后再提交，所以不能执行一条就提交一条。</p>
<p>关闭自动提交机制命令: <code>start transaction;</code> </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;回滚事务演示
use bjpowernode;

start transaction; &#x2F;&#x2F;关闭自动提交机制命令
insert into t_user values(10,&#39;abc&#39;);
insert into t_user values(10,&#39;abc&#39;);
select * from t_user; &#x2F;&#x2F;先查询，执行语句都存在
rollback; &#x2F;&#x2F;回滚事务，将所有的执行语句撤回
select * from t_user;  &#x2F;&#x2F;再查询，执行语句都不存在了<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230129164233235.png" alt="image-20230129164233235" style="zoom:67%;" /> 

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;提交事务演示
use bjpower node;

start transaction;
insert into t_user values(11,&#39;jack&#39;,&#39;tj&#39;);
insert into t_user values(11,&#39;jack&#39;,&#39;tj&#39;);

commit; &#x2F;&#x2F;提交事务，保存存档
select * from t_user; &#x2F;&#x2F;都存在

rollback; &#x2F;&#x2F;回滚撤回事务，发现已经提交了无法撤销
select * from t_user; &#x2F;&#x2F;都存在<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230129164743848.png" alt="image-20230129164743848" style="zoom:67%;" />

<h2 id="四个特性"><a href="#四个特性" class="headerlink" title="四个特性"></a>四个特性</h2><ul>
<li><p>原子性</p>
<p>说明事务是最小的工作单元。不可再分。</p>
</li>
<li><p>一致性</p>
<p>所有事务要求，在同一个事务当中，所有操作必须同时成功，或者同时失败，以保证数据的一致性。</p>
</li>
<li><p>隔离性</p>
<p>A事务和B事务之间具有一定的隔离。</p>
<p>教室A和教室B之间有一道墙，这道墙就是隔离性。<br>A事务在操作一张表的时候，另一个事务B也操作这张表会有隔离（有条件，下面讲）</p>
</li>
<li><p>持久性</p>
<p>事务最终结束的一个保障。事务提交，就相当于将没有保存到硬盘上的数据保存到硬盘上！</p>
</li>
</ul>
<blockquote>
<p>重点：事务的隔离性！！！</p>
</blockquote>
<p>四个级别：</p>
<ul>
<li><p>读未提交 （最低级别）：<code>read uncommitted</code> 事务A可以读取到事务B未提交的数据。<br>这种隔离级别存在的问题就是：脏读现象！(Dirty Read)，即读到了脏数据。<br>这种隔离级别一般都是理论上的，大多数的数据库隔离级别都是二档起步！</p>
</li>
<li><p>读已提交：<code>read committed</code> : 事务B提交了事务A才能读取</p>
<p>解决了脏读的现象。</p>
<p>存在问题：不可重复性</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">一个事务只能读到另一个已经提交的事务修改过的数据，并且其他事务每对该数据进行一次修改并提交后，该事务都能查询得到最新值。
即事务B提交完数据后，事务A可以读取到这些数据，如果事务B再改变数据的话，事务A都是读取的事务B的最新值，不管事务A什么状态，读取的事务B数据都是最新值<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>可重复读：<code>repeatable read</code> ：MySQL默认级别；提交之后也读不到，永远读取的都是刚开启事务时的数据</p>
<p>事务A开启之后，不管是多久，每一次在事务A中读取到的数据都是一致的。即使事务B将数据已经修改，并且提交了，事务A读取到的数据还是没有发生改变，这就是可重复读。<br>会出现幻读，每一次读取到的数据都是幻象。不够真实！</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">就是每一次读到的事务B数据都是刚开启事务A时的数据，如果事务B在事务A运行过程中改变数据，则事务A是不会受到影响的。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>序列化&#x2F;串行化：<code>serializable</code> ：最高隔离级别</p>
<p>不能并发，即事务B还在修改数据，事务A就不能查到（会卡住），直到事务B修改完数据并提交(commit)后，事务A才能查到事务B的数据。</p>
</li>
</ul>
<blockquote>
<p>验证隔离性四个级别</p>
</blockquote>
<ul>
<li><p>读未提交：<code>read uncommitted</code> </p>
<p>事务B还没有提交(commit) ，事务A就已经读取到了事务B的数据</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">被测试的表t_user
验证：read uncommitted
&#x2F;&#x2F;将表设置为read uncommitted
mysql&gt; set global transaction isolation level read uncommitted; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">事务A													事务B
--------------------------------------------------------------------------------
use bjpowernode;
												use bjpowernode;
start transaction;
select * from t_user;
												start transaction;
												insert into t_user values(&#39;zhangsan&#39;);
select * from t_user;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>读已提交：<code>read committed</code> </p>
<p>事务B提交后，事务A才能查到事务B的数据</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">验证：read committed
&#x2F;&#x2F;将表设置为 read committed
mysql&gt; set global transaction isolation level read committed;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">事务A													事务B
--------------------------------------------------------------------------------
use bjpowernode;
												use bjpowernode;
start transaction;
												start transaction;
select * from t_user;
												insert into t_user values(&#39;zhangsan&#39;);
select * from t_user; &#x2F;&#x2F;没有查到&#39;zhangsan&#39;这个信息，因为事务B还没有保存
												commit;
select * from t_user; &#x2F;&#x2F;事务B保存了，可以查到<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>可重复读：<code>repeatable read</code> </p>
<p>事务A在事务B修改前运行，则读取不到事务B修改后的数据</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">验证：repeatable read
&#x2F;&#x2F;将表设置成 repeatable read
mysql&gt; set global transaction isolation level repeatable read;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">事务A												事务B
--------------------------------------------------------------------------------
use bjpowernode;
												use bjpowernode;
start transaction;
												start transaction;
select * from t_user; &#x2F;&#x2F;读取的是没改变的t_user
												insert into t_user values(&#39;lisi&#39;);
												insert into t_user values(&#39;wangwu&#39;);
												commit;
select * from t_user; &#x2F;&#x2F;读取的还是没改变的t_user<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>序列化&#x2F;串行化：<code>serializable</code> </p>
<p>事务B还在修改数据没提交的时候，事务A查事务B是会卡住的，直到事务B提交完</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">验证：serializable
&#x2F;&#x2F;将表设置成 serializable
mysql&gt; set global transaction isolation level serializable;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">事务A												事务B
--------------------------------------------------------------------------------
												use bjpowernode;
use bjpowernode;
												start transaction;
start transaction;
												select * from t_user;
												insert into t_user values(&#39;abc&#39;);
select * from t_user;  &#x2F;&#x2F;事务B未保存执行不了，处于卡着的状态，事务B一保存直接查到
												commit;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><h2 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h2><p>索引是在数据库表的字段上添加的，是为了提高查询效率存在的一种机制，一张表的一个字段可以添加一个索引，也可以多个字段联合起来添加索引，索引相当于一本书的目录，方便查找指定位置的信息</p>
<p>对于一张表来说，可以有两种方式查找信息<br>    方式一：从第一个值开始查找，直到找到要查找的信息：<br>    方式二：通过目录（索引）去定位到一个大致的位置，即缩小范围进行查找，效率比较高</p>
<p><code>select * from t_user where name=&#39;zhangsan&#39;;</code> </p>
<p>如果没有添加索引的话，上面这段代码是全表扫描<br>            如果添加了索引的话，上面这段代码会根据索引进行扫描</p>
<p>数据库中的索引会排序，最底层的是类TreeSet进行排序，在MySQL中索引是一个B-Tree数据结构，即红黑树<br>遵循左小右大的原则存放，采用中序遍历方式遍历取数据</p>
<blockquote alt="warn"><p>
    在任何数据库中主键都会自动添加索引对象<br/>
    mysql中一个字段上如果有unique约束的话，也会自动创建索引对象
    </p></blockquote>

<blockquote>
<p>在任何数据库当中，任何一张表的任何一条记录在硬盘存储上都有一个硬盘的物理存储编号</p>
</blockquote>
<blockquote alt="warn"><p>
    索引是一个单独的对象，不同的存储引擎以不同的形式存在<br/>
    在 MyISAM 存储引擎中，索引存储在一个.MYI文件中<br/>
    在 InnoDB 存储引擎中，索引存储在一个逻辑名称叫做 tablespace 的当中<br/>
    在 MEMORY 存储引擎中，索引被存储在内存当中<br/>
    不管索引存储在哪里，索引在mysql当中都是一个树的形式存在。
    </p></blockquote>


<blockquote alt="question"><p>什么情况下考虑给字段添加索引？</p></blockquote>

<ul>
<li>数据量庞大（到底有多么庞大算庞大，这个需要测试，因为每一个硬件环境不同）。</li>
<li>该字段经常出现在where 的后面，以条件的形式存在，也就是说这个字段总是被扫描。</li>
<li>该字段很少的DML（insert delete update）操作。（因为增删改之后，索引需要重新排序）</li>
</ul>
<p>建议不要随意添加索引，因为索引也是需要维护的，太多的话反而会降低系统的性能。</p>
<p>建议通过主键查询，建议通过 unique 约束的字段进行查询，效率是比较高的。</p>
<h2 id="创建与删除索引"><a href="#创建与删除索引" class="headerlink" title="创建与删除索引"></a>创建与删除索引</h2><ul>
<li>创建索引</li>
</ul>
<p>给字段创建索引：<code>create index 索引名 on 表名(字段名);</code> </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;给emp2表的ename字段添加索引，起名 emp2_ename_index
create index emp2_ename_index on emp2(ename);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li><p>删除索引<br>给字段删除索引：<code>drop index 索引名 on 表名;</code> </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;删除emp2表中的索引emp_ename_index;
drop index epm2_ename_index on emp2;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
</ul>
<blockquote alt="question"><p>
    在MySQL当中，怎么查看一个SQL语句是否使用了索引进行检索？
    </p></blockquote>


<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;不用索引查数据，用全局查
explain select * from emp2 where ename&#x3D;&#39;KING&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130180631333.png" alt="image-20230130180631333"></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create index emp2_ename_index on emp2(index);
&#x2F;&#x2F;用索引查数据
explain select * from emp2 where ename&#x3D;&#39;KING&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130180223815.png" alt="image-20230130180223815"></p>
<h2 id="索引失效"><a href="#索引失效" class="headerlink" title="索引失效"></a>索引失效</h2><blockquote>
<p>一：模糊匹配中以%开头</p>
</blockquote>
<p><code>select * from emp2 where ename like &#39;%T&#39;;</code> </p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130181844291.png" alt="image-20230130181844291"></p>
<p>原因是因为模糊匹配当中以 “%” 开头了，以”%” 结尾则不会</p>
<p>尽量避免模糊查询的时候以 “%” 开始，这是一种优化的手段&#x2F;策略</p>
<blockquote>
<p>二：使用 or </p>
</blockquote>
<p>合并查询结果集查找，如果使用 or ，那么要求 or 两边的条件字段都要有索引，才会走索引，如果其中一边有一个字段没有索引，那么另一个字段上的索引也会失效。</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;使用or
explain select * from emp where ename&#x3D;&#39;KING&#39; or job&#x3D;&#39;MANAGER&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130190503881.png" alt="image-20230130190503881"></p>
<p>合并查询结果集查找，如果使用union，有索引的用索引，没索引的不用索引</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">explain select * from emp where ename&#x3D;&#39;KING&#39;
union
select * from emp where job&#x3D;&#39;MANAGER&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130190935617.png" alt="image-20230130190935617"></p>
<p>合并查询结果集查找建议使用 <code>union</code> </p>
<blockquote>
<p>三：复合索引</p>
</blockquote>
<p>两个字段或者更多字段联合起来添加一个索引，叫做复合索引</p>
<p>使用复合索引的时候，没有使用左侧的列（字段）查找，索引失效</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;创建索引
create index emp2_job_sal_index on emp2(job,sal);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;只查找左侧指定字段，即job索引，会使用索引
explain select * from emp2 where job&#x3D;&#39;MANAGER&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130191913297.png" alt="image-20230130191913297"></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;只查找右侧指定字段，即sal，不会使用索引
expalin select * from emp2 where sal&#x3D;800;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130192226901.png" alt="image-20230130192226901"></p>
<blockquote>
<p>四：在where中索引添加运算（不是值）</p>
</blockquote>
<p>在where中索引列中索引参加了运算，索引失效</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">explain select * from emp2 where sal&#x3D;800;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130192841650.png" alt="image-20230130192841650"></p>
<blockquote>
<p>五：在where中索引使用了函数</p>
</blockquote>
<p>where中索引使用了函数则索引失效</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">explain select * from emp2 where lower(ename)&#x3D;&#39;SMITH&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130193134073.png" alt="image-20230130193134073"></p>
<h2 id="索引分类"><a href="#索引分类" class="headerlink" title="索引分类"></a>索引分类</h2><p>索引在数据库当中分了很多类</p>
<ul>
<li>单一索引：一个字段上添加索引</li>
<li>复合索引：两个字段或者更多的字段联合添加索引</li>
<li>主键索引：主键上添加索引</li>
<li>唯一性索引：具有 unique 约束的字段上添加索引</li>
</ul>
<blockquote alt="warn"><p>
    唯一性比较弱的字段上添加索引用处不大<br/>
    唯一性比较弱的字段可能会存在大量的重复数据，这个时候索引不起什么作用<br/>
    ‘越唯一效率越高’
    </p></blockquote>


<h1 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h1><h2 id="概述-5"><a href="#概述-5" class="headerlink" title="概述"></a>概述</h2><p>视图（view）：站在不同角度去看待同一份数据</p>
<p>视图的使用：</p>
<p>假设大表中的数据非常多，而又需要修改大表，可以将一个大表中的需要修改的数据提取到视图中进行修改</p>
<h2 id="创建与删除视图"><a href="#创建与删除视图" class="headerlink" title="创建与删除视图"></a>创建与删除视图</h2><blockquote>
<p>视图的创建</p>
</blockquote>
<p>创建视图对象：<code>create view 视图名称 as select * from 表名;</code> </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create view dept2_view as select deptno,dname from dept2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130194743659.png" alt="image-20230130194743659" style="zoom:67%;" />

<p>删除视图对象：<code>drop view 视图名称;</code> </p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">drop view dept2_view;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130194908277.png" alt="image-20230130194908277" style="zoom:67%;" />



<blockquote>
<p>只有DQL语句才能以view的形式创建，即select xxx from xxx where xxx….</p>
</blockquote>
<h2 id="视图的用处"><a href="#视图的用处" class="headerlink" title="视图的用处"></a>视图的用处</h2><p>可以面向视图对象进行增删改查</p>
<blockquote>
<p>对视图对象进行增删改查，会导致原表被操作<br/><br>    对视图的各种操作会直接影响到原表<br/><br>    即:视图就是原表的一部分，对视图的改变就是对原表的改变</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;面向视图查询
select * from dept2_view;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130195808054.png" alt="image-20230130195808054" style="zoom:67%;" /> 

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;面向视图插入,视图中的值改变，原表中的值也会变
insert into dept2_view(deptno,dname) values(60,&#39;ZHANGSAN&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130200447243.png" alt="image-20230130200447243" style="zoom:67%;" />

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;面向视图删除，只删除数据不删除表
delete from dept2_view;
&#x2F;&#x2F;查询原表数据
select * from dept2_view; &#x2F;&#x2F;数据已删完<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130200716178.png" alt="image-20230130200716178" style="zoom:67%;" /> 

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;创建表与表连接的视图，更改此视图内容原表相应内容也会被更改
create view emp2_dept_view
as
	select
		e2.ename, e2.sal, d.dname
	from
		emp2 as e2
	join
		dept as d
	on
		e2.deptno&#x3D;d.deptno;
&#x2F;&#x2F;查看视图对象
select * from emp2_dept_view;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

 <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130202028436.png" alt="image-20230130202028436" style="zoom:67%;" />

<blockquote>
<p>使用</p>
</blockquote>
<p>假设有一条非常复杂的SQL语句，而这条SQL语句需要在不同位置上反复使用</p>
<p>可以把这条复杂的语句提取要修改的数据为视图对象，在这个视图对象中修改数据，这样也会修改这条复杂的SQL语句</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">增删改查也叫 CRUD
C:Create(增)
R:Retrieve(查：检索)
U:Update(改)
D:Delete(删)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="DBA常用命令"><a href="#DBA常用命令" class="headerlink" title="DBA常用命令"></a>DBA常用命令</h1><h2 id="数据导入和导出-数据的备份"><a href="#数据导入和导出-数据的备份" class="headerlink" title="数据导入和导出(数据的备份)"></a>数据导入和导出(数据的备份)</h2><h3 id="数据导出"><a href="#数据导出" class="headerlink" title="数据导出"></a>数据导出</h3><p>在windows 的 dos 命令窗口中（cmd）</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">mysqldump bjpowernode&gt;D:\bjpowernode.sal -uroot -p123456<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>也可以导出指定的表</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">mysqldump bjpowernode emp&gt;D:\bjpowernode.sql -uroot -p123456<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="数据导入"><a href="#数据导入" class="headerlink" title="数据导入"></a>数据导入</h3><p>注意：需要先登录到mysql数据库服务器上</p>
<p>然后创建数据库：<code>create database bjpowernode;</code> </p>
<p>使用数据库：<code>use bjpowernode;</code> </p>
<p>然后初始化数据库：<code>source D:\bjpowernode.sql</code></p>
<h1 id="数据库三范式（重要）"><a href="#数据库三范式（重要）" class="headerlink" title="数据库三范式（重要）"></a>数据库三范式（重要）</h1><h2 id="概述-6"><a href="#概述-6" class="headerlink" title="概述"></a>概述</h2><ul>
<li>第一范式：要求任何一张表必须有主键，每一个字段原子性不可再分</li>
<li>第二范式：建立在第一范式的基础上，要求所有非主键字段完全依赖主键，不要产生部分依赖</li>
<li>第三范式：建立在第二范式的基础上，要求所有非主键字段直接依赖主键，不要产生传递依赖</li>
</ul>
<h2 id="第一范式"><a href="#第一范式" class="headerlink" title="第一范式"></a>第一范式</h2><blockquote>
<p>要求任何一张表必须有主键，每一个字段原子性不可再分</p>
</blockquote>
<p>最核心，最重要的范式，所有表的设计都需要满足</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">学生编号 	学生姓名 		联系方式
------------------------------------------
1001		张三		zs@gmail.com,1359999999
1002		李四		ls@gmail.com,13699999999
1001		王五		ww@163.net,13488888888<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上表不满足第一范式，第一：没有主键(PK)；第二：联系方式可以分为邮箱和电话，不满足原子性不可再分</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;满足第一范式
	学生编号(pk) 		学生姓名	邮箱地址			联系电话
	----------------------------------------------------
	1001				张三		zs@gmail.com	1359999999
	1002				李四		ls@gmail.com	13699999999
	1003				王五		ww@163.net		13488888888<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="第二范式"><a href="#第二范式" class="headerlink" title="第二范式"></a>第二范式</h2><blockquote>
<p>建立在第一范式的基础上，要求所有非主键字段完全依赖主键，不要产生部分依赖</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">学生编号 		学生姓名	 教师编号 	教师姓名
----------------------------------------------------
1001			张三			001		王老师
1002			李四			002		赵老师
1003			王五			001		王老师
1001			张三			002		赵老师<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上表不满足第一范式：没有主键</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;满足第一范式
学生编号+教师编号(pk)				学生姓名 		 教师姓名
	----------------------------------------------------
	1001			001				张三			王老师
	1002			002				李四			赵老师
	1003			001				王五			王老师
	1001			002				张三			赵老师<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上表有主键（学生编号+教师编号）复合主键，一般复合主键都是多对多</p>
<p>不满足第二范式：主键是（学生编号+教师编号）复合主键，<br>而非主键字段不完全依赖主键（学生姓名依赖学生编号，教师姓名依赖教师编号，<br>而不是学生姓名或教师姓名依赖整个复合主键（即学生姓名依赖学生编号+教师编号）</p>
<p>部份依赖会产生数据冗余，空间浪费（即学生姓名重复，教师姓名重复）</p>
<blockquote>
<p>可以使用三张表来表示多对多的关系</p>
<p>多对多，三张表，关系表两个外键！！！</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;学生表
		学生编号(pk)			学生名字
	------------------------------------
		1001					张三
		1002					李四
		1003					王五<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">教师表
		教师编号(pk)		教师姓名
	--------------------------------------
		001					王老师
		002					赵老师<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">学生教师关系表
		id(pk)				学生编号(fk)				教师编号(fk)
		------------------------------------------------------
		1						1001						001
		2						1002						002
		3						1003						001
		4						1001						002<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="第三范式"><a href="#第三范式" class="headerlink" title="第三范式"></a>第三范式</h2><blockquote>
<p>建立在第二范式的基础上，要求所有非主键字段直接依赖主键，不要产生传递依赖</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">学生编号（PK） 		学生姓名 	班级编号 	 	班级名称
---------------------------------------------------------
	1001				张三		01			一年一班
	1002				李四		02			一年二班
	1003				王五		03			一年三班
	1004				赵六		03			一年三班<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上表满足第一范式：有主键，每一个字段原子性不可再分</p>
<p>以上表满足第二范式：主键不是复合主键，非主键都是依赖主键的</p>
<p>不满足第三范式：产生了传递依赖（一年一班依赖01，01依赖1001），<br>         一年三班产生了冗余问题，一对多关系</p>
<blockquote>
<p>一对多，两张表，多的表加外键</p>
</blockquote>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">班级表：一
班级编号(pk)					班级名称
----------------------------------------
01								一年一班
02								一年二班
03								一年三班<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">学生表：多
学生编号（PK） 	学生姓名 		班级编号(fk)
-------------------------------------------
1001				张三			01			
1002				李四			02			
1003				王五			03			
1004				赵六			03<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><ul>
<li><p>一对多，两张表，多的表加外键</p>
</li>
<li><p>多对多，三张表，关系表两个外键</p>
</li>
<li><p>一对一</p>
<p>一对一可以一张表，如果一张表中字段太多可以拆分表</p>
<p>没拆分之前：</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/typora-picture/image-20230130213817968.png" alt="image-20230130213817968"></p>
</li>
</ul>
<blockquote>
<p>一对一，外键唯一！！！</p>
</blockquote>
<p>可以拆分为两张表，不过有条件，外键中必须要加一个unique约束，一个只能对应一个</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;&#x2F;t_login 登录信息表
		id(pk)		login_name		login_pwd	
		---------------------------------
		1		zhangsan			123			
		2		lisi				123	<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">t_user 用户详细信息表
		id(pk)		real_name		email		address........	login_id(fk+unique)  
		&#x2F;&#x2F;加个unique约束，一个只能对应t_user表中的一个：即一对一
	-----------------------------------------------------------------------------------------
		100			张三			zhangsan@xxx						1
		200			李四			lisi@xxx	 				<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://byxl8112.github.io">byxl8112</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://byxl8112.github.io/posts/MySQL.html">https://byxl8112.github.io/posts/MySQL.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://byxl8112.github.io" target="_blank">byxl8112</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java%E7%AC%94%E8%AE%B0/">Java笔记</a></div><div class="post_share"><div class="social-share" data-image="https://npm.elemecdn.com/xianqi-hexo/imgg/11.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/money.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/money.jpg"/></a><div class="post-qr-code-desc"></div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/Git.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/xianqi-hexo/imgg/19.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Git</div></div></a></div><div class="next-post pull-right"><a href="/posts/1.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/xianqi-hexo/imgg/1.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">博客与博主</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/Git.html" title="Git"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/xianqi-hexo/imgg/19.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-15</div><div class="title">Git</div></div></a></div><div><a href="/posts/Maven.html" title="Maven"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/xianqi-hexo/imgg/24.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-19</div><div class="title">Maven</div></div></a></div><div><a href="/posts/MyBatis.html" title="MyBatis"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/byxl8112-pictures/07-MyBatis.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-23</div><div class="title">MyBatis</div></div></a></div><div><a href="/posts/JavaWeb.html" title="JavaWeb"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/xianqi-hexo/imgg/30.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-22</div><div class="title">JavaWeb</div></div></a></div><div><a href="/posts/springMVC.html" title="SpringMVC"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/byxl8112-pictures/09-SpringMVC.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-27</div><div class="title">SpringMVC</div></div></a></div><div><a href="/posts/MyBatisPlus.html" title="MyBatis-Plus"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/byxl8112-pictures/11-MyBatis-Plus.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-01</div><div class="title">MyBatis-Plus</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/zzzw_8112/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20221130105527.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">byxl8112</div><div class="author-info__description">有志者，事竟成</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><a id="card-info-btn" href="https://byxl8112.github.io"><i class="fab fa-home"></i><span>个人主页</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/byxl8112" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=1662844460&amp;website=www.qtxml.cn" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">兴趣爱好才是最大的动力，何不与我共同来攀知识高峰！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">数据库常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.1.</span> <span class="toc-text">创建数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%95%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%80%E6%9C%89%E5%90%8D%E7%A7%B0"><span class="toc-number">1.2.</span> <span class="toc-text">展示数据库所有名称</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%8C%87%E5%AE%9A%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.3.</span> <span class="toc-text">使用指定数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.4.</span> <span class="toc-text">退出数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">1.5.</span> <span class="toc-text">表的理解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SQL%E5%88%86%E7%B1%BB"><span class="toc-number">2.</span> <span class="toc-text">SQL分类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DQL"><span class="toc-number">2.1.</span> <span class="toc-text">DQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DML"><span class="toc-number">2.2.</span> <span class="toc-text">DML</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DDL"><span class="toc-number">2.3.</span> <span class="toc-text">DDL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TTL"><span class="toc-number">2.4.</span> <span class="toc-text">TTL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DCL"><span class="toc-number">2.5.</span> <span class="toc-text">DCL</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DQL-1"><span class="toc-number">3.</span> <span class="toc-text">DQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">3.1.</span> <span class="toc-text">表操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">3.1.1.</span> <span class="toc-text">表数据操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C"><span class="toc-number">3.1.2.</span> <span class="toc-text">表结构操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.2.</span> <span class="toc-text">简单查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%EF%BC%9A"><span class="toc-number">3.2.1.</span> <span class="toc-text">查询一个字段：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%B8%A4%E4%B8%AA%E5%AD%97%E6%AE%B5%EF%BC%8C%E6%88%96%E8%80%85%E5%A4%9A%E4%B8%AA%E5%AD%97%E6%AE%B5%EF%BC%8C"><span class="toc-number">3.2.2.</span> <span class="toc-text">查询两个字段，或者多个字段，</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5"><span class="toc-number">3.2.3.</span> <span class="toc-text">查询所有字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%88%97%E8%B5%B7%E5%88%AB%E5%90%8D"><span class="toc-number">3.2.4.</span> <span class="toc-text">给查询的列起别名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.3.</span> <span class="toc-text">条件查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8Forder-by"><span class="toc-number">3.4.</span> <span class="toc-text">排序order by</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-number">3.5.</span> <span class="toc-text">数据处理函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#lower-%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%B0%8F%E5%86%99"><span class="toc-number">3.5.1.</span> <span class="toc-text">lower   转换为小写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#upper-%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%A4%A7%E5%86%99"><span class="toc-number">3.5.2.</span> <span class="toc-text">upper   转换为大写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#length-%EF%BC%9A-%E5%8F%96%E9%95%BF%E5%BA%A6"><span class="toc-number">3.5.3.</span> <span class="toc-text">length ： 取长度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#trim-%E5%8E%BB%E7%A9%BA%E6%A0%BC"><span class="toc-number">3.5.4.</span> <span class="toc-text">trim  : 去空格</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#str-to-data-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E6%88%90%E6%97%A5%E6%9C%9F"><span class="toc-number">3.5.5.</span> <span class="toc-text">str_to_data : 字符串转换成日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#date-format-%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%97%A5%E6%9C%9F"><span class="toc-number">3.5.6.</span> <span class="toc-text">date_format  : 格式化日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#format-%E8%AE%BE%E7%BD%AE%E5%8D%83%E5%88%86%E4%BD%8D"><span class="toc-number">3.5.7.</span> <span class="toc-text">format  : 设置千分位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#round%E5%87%BD%E6%95%B0-%EF%BC%9A%E5%9B%9B%E8%88%8D%E4%BA%94%E5%85%A5"><span class="toc-number">3.5.8.</span> <span class="toc-text">round函数 ：四舍五入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rand-%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0%EF%BC%8C%E5%B0%8F%E4%BA%8E1"><span class="toc-number">3.5.9.</span> <span class="toc-text">rand( )  : 生成随机数，小于1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ifnull-%E5%B0%86-null-%E8%BD%AC%E6%8D%A2%E6%88%90%E4%B8%80%E4%B8%AA%E5%85%B7%E4%BD%93%E5%80%BC"><span class="toc-number">3.5.10.</span> <span class="toc-text">ifnull: 将 null 转换成一个具体值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#case-%E2%80%A6-when-%E2%80%A6-then-%E2%80%A6when-%E2%80%A6-then-%E2%80%A6-else-%E2%80%A6end"><span class="toc-number">3.5.11.</span> <span class="toc-text">case … when … then …when … then … else …end</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0"><span class="toc-number">3.6.</span> <span class="toc-text">分组函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#count-%EF%BC%9A-%E8%AE%A1%E6%95%B0"><span class="toc-number">3.6.1.</span> <span class="toc-text">count ： 计数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sum-%EF%BC%9A-%E6%B1%82%E5%92%8C"><span class="toc-number">3.6.2.</span> <span class="toc-text">sum  ： 求和</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#avg-%EF%BC%9A-%E5%B9%B3%E5%9D%87%E5%80%BC"><span class="toc-number">3.6.3.</span> <span class="toc-text">avg   ： 平均值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#max-%EF%BC%9A-%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-number">3.6.4.</span> <span class="toc-text">max  ： 最大值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#min-%EF%BC%9A-%E6%9C%80%E5%B0%8F%E5%80%BC"><span class="toc-number">3.6.5.</span> <span class="toc-text">min  ： 最小值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#count-%E5%92%8C-count-%E5%85%B7%E4%BD%93%E5%AD%97%E6%AE%B5-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.6.6.</span> <span class="toc-text">count( * ) 和 count(具体字段) 的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.7.</span> <span class="toc-text">分组查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#group-by"><span class="toc-number">3.7.1.</span> <span class="toc-text">group by</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#having"><span class="toc-number">3.7.2.</span> <span class="toc-text">having</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.7.3.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#distinct-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">3.7.4.</span> <span class="toc-text">distinct 关键字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.8.</span> <span class="toc-text">连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">3.8.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E7%8E%B0%E8%B1%A1"><span class="toc-number">3.8.2.</span> <span class="toc-text">笛卡尔积现象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.8.3.</span> <span class="toc-text">内连接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.8.3.1.</span> <span class="toc-text">等值连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.8.3.2.</span> <span class="toc-text">非等值连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.8.3.3.</span> <span class="toc-text">自连接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.8.4.</span> <span class="toc-text">外连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.8.5.</span> <span class="toc-text">多表连接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.9.</span> <span class="toc-text">子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">3.9.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2%E5%85%B7%E4%BD%93"><span class="toc-number">3.9.2.</span> <span class="toc-text">子查询具体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#where%E5%AD%90%E5%8F%A5%E4%B8%AD%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.9.2.1.</span> <span class="toc-text">where子句中的子查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#from%E5%AD%90%E5%8F%A5%E4%B8%AD%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.9.2.2.</span> <span class="toc-text">from子句中的子查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select%E5%AD%90%E5%8F%A5%E4%B8%AD%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9A%E4%BA%86%E8%A7%A3"><span class="toc-number">3.9.2.3.</span> <span class="toc-text">select子句中的子查询：了解</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#union%EF%BC%9A%E5%90%88%E5%B9%B6%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E9%9B%86"><span class="toc-number">3.10.</span> <span class="toc-text">union：合并查询结果集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#limit%E9%99%90%E5%88%B6%E6%9F%A5%E8%AF%A2%EF%BC%9A%E9%87%8D%E8%A6%81"><span class="toc-number">3.11.</span> <span class="toc-text">limit限制查询：重要</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#limit%E4%BD%9C%E7%94%A8"><span class="toc-number">3.11.1.</span> <span class="toc-text">limit作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%A1%B5"><span class="toc-number">3.11.2.</span> <span class="toc-text">分页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E6%80%BB%E7%BB%93"><span class="toc-number">3.11.3.</span> <span class="toc-text">大总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DDL-1"><span class="toc-number">4.</span> <span class="toc-text">DDL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%EF%BC%9Acreate"><span class="toc-number">4.1.</span> <span class="toc-text">创建表：create</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F%EF%BC%9A"><span class="toc-number">4.1.0.1.</span> <span class="toc-text">语法格式：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8Emysql-%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.1.0.2.</span> <span class="toc-text">关于mysql 中的数据类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8%EF%BC%9Adrop"><span class="toc-number">4.2.</span> <span class="toc-text">删除表：drop</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%9Ainsert"><span class="toc-number">4.3.</span> <span class="toc-text">插入数据：insert</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">4.3.1.</span> <span class="toc-text">插入数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%97%A5%E6%9C%9F"><span class="toc-number">4.3.2.</span> <span class="toc-text">插入日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#date%E5%92%8Cdatetime%E5%8C%BA%E5%88%AB"><span class="toc-number">4.3.3.</span> <span class="toc-text">date和datetime区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%EF%BC%9Aupdate"><span class="toc-number">4.4.</span> <span class="toc-text">修改数据：update</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%EF%BC%9Adelete"><span class="toc-number">4.5.</span> <span class="toc-text">删除数据：delete</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">4.6.</span> <span class="toc-text">修改表结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F"><span class="toc-number">5.</span> <span class="toc-text">约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-number">5.0.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%EF%BC%9Anot-null"><span class="toc-number">5.0.2.</span> <span class="toc-text">非空约束：not null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E6%80%A7%E7%BA%A6%E6%9D%9F%EF%BC%9Aunique"><span class="toc-number">5.0.3.</span> <span class="toc-text">唯一性约束：unique</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F%EF%BC%9Aprimary-key"><span class="toc-number">5.0.4.</span> <span class="toc-text">主键约束：primary key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F%EF%BC%9Aforegin-key"><span class="toc-number">5.0.5.</span> <span class="toc-text">外键约束：foregin key</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">6.</span> <span class="toc-text">存储引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="toc-number">6.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C"><span class="toc-number">6.2.</span> <span class="toc-text">操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E4%BB%8B%E7%BB%8D"><span class="toc-number">6.3.</span> <span class="toc-text">存储引擎介绍</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1"><span class="toc-number">7.</span> <span class="toc-text">事务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-3"><span class="toc-number">7.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C-1"><span class="toc-number">7.2.</span> <span class="toc-text">操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E4%B8%AA%E7%89%B9%E6%80%A7"><span class="toc-number">7.3.</span> <span class="toc-text">四个特性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-number">8.</span> <span class="toc-text">索引</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-4"><span class="toc-number">8.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="toc-number">8.2.</span> <span class="toc-text">创建与删除索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88"><span class="toc-number">8.3.</span> <span class="toc-text">索引失效</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%88%86%E7%B1%BB"><span class="toc-number">8.4.</span> <span class="toc-text">索引分类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">9.</span> <span class="toc-text">视图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-5"><span class="toc-number">9.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="toc-number">9.2.</span> <span class="toc-text">创建与删除视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E7%94%A8%E5%A4%84"><span class="toc-number">9.3.</span> <span class="toc-text">视图的用处</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DBA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">10.</span> <span class="toc-text">DBA常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5%E5%92%8C%E5%AF%BC%E5%87%BA-%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A4%87%E4%BB%BD"><span class="toc-number">10.1.</span> <span class="toc-text">数据导入和导出(数据的备份)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA"><span class="toc-number">10.1.1.</span> <span class="toc-text">数据导出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5"><span class="toc-number">10.1.2.</span> <span class="toc-text">数据导入</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%88%E9%87%8D%E8%A6%81%EF%BC%89"><span class="toc-number">11.</span> <span class="toc-text">数据库三范式（重要）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-6"><span class="toc-number">11.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F"><span class="toc-number">11.2.</span> <span class="toc-text">第一范式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F"><span class="toc-number">11.3.</span> <span class="toc-text">第二范式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F"><span class="toc-number">11.4.</span> <span class="toc-text">第三范式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">11.5.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/HTML5.html" title="HTML5"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/byxl8112-pictures/14-H5C3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTML5"/></a><div class="content"><a class="title" href="/posts/HTML5.html" title="HTML5">HTML5</a><time datetime="2023-07-10T00:18:42.000Z" title="发表于 2023-07-10 08:18:42">2023-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/H5C3.html" title="HTML5"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/byxl8112-pictures/14-H5C3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTML5"/></a><div class="content"><a class="title" href="/posts/H5C3.html" title="HTML5">HTML5</a><time datetime="2023-07-10T00:18:42.000Z" title="发表于 2023-07-10 08:18:42">2023-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Linux.html" title="Linux"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/byxl8112-pictures/13-Linux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux"/></a><div class="content"><a class="title" href="/posts/Linux.html" title="Linux">Linux</a><time datetime="2023-07-07T07:02:48.000Z" title="发表于 2023-07-07 15:02:48">2023-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Redis.html" title="Redis"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/byxl8112-pictures/12-Redis.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis"/></a><div class="content"><a class="title" href="/posts/Redis.html" title="Redis">Redis</a><time datetime="2023-07-07T04:06:47.000Z" title="发表于 2023-07-07 12:06:47">2023-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/MyBatisPlus.html" title="MyBatis-Plus"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://typora8112.oss-cn-beijing.aliyuncs.com/byxl8112-pictures/11-MyBatis-Plus.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MyBatis-Plus"/></a><div class="content"><a class="title" href="/posts/MyBatisPlus.html" title="MyBatis-Plus">MyBatis-Plus</a><time datetime="2023-07-01T07:13:16.000Z" title="发表于 2023-07-01 15:13:16">2023-07-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023  <i id="heartbeat" class="fa fas fa-heartbeat"></i> byxl8112</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><<head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></head></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://vercel-comments-fu6q.vercel.app',
      region: 'us-east-1',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://vercel-comments-fu6q.vercel.app',
      region: 'us-east-1',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo@1/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script defer data-pjax type="text/javascript" src="https://npm.elemecdn.com/xianqi-hexo/js/animate.js"></script><div class="aplayer no-destroy" data-id="2358838077" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="auto" data-autoplay="false" muted></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script src="//code.tidio.co/null.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#posts-chart","#tags-chart","#categories-chart",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":160,"height":260},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>